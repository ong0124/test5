import we from"./B5X7rvsE.js";import{d as pe,n as se,p as ce,r,b as p,c as h,e,f as a,j as He,t as o,k,F as Be,g as Ge,v as U,x as Fe,y as Qe,i as Z,s as Pe,z as Ze,l as Me,A as te,o as De,B as F,C as Q,D as $e,E as ke,w as b,h as le,G as Oe,H as M,I as Ce}from"./CKl0q3YA.js";import{_ as Ue}from"./xQVW99ha.js";import{l as be,a as oe,T as Re,C as Ae,b as Se,c as Ye}from"./I9foTvLw.js";import{l as je}from"./5djV3zoC.js";import{l as ye}from"./CUJ2gW8I.js";import{D as Ne,S as Ve,B as Ie}from"./ChyvMrul.js";import"./Bx7J-uke.js";const Ee={class:"relative"},Je={key:0,class:"absolute bg-white text-black rounded-md shadow-lg mt-2 z-10"},Ke=["id","value"],Xe=["for"],et=pe({__name:"LangSwitcher",setup(m){const{locales:y,locale:g,setLocale:C}=se(),v=ce({get:()=>g.value,set:x=>{C(x)}}),u=r(!1),_=()=>{u.value=!u.value},T=x=>{v.value=x,u.value=!1};return(x,D)=>{const P=we;return p(),h("div",Ee,[e("button",{class:"flex items-center border-2 bg-lwm-100 border-white rounded-3xl text-white px-2",onClick:_},[a(P,{name:"tabler-arrows-exchange",class:"mr-1"}),He(" "+o(k(v)),1)]),k(u)?(p(),h("ul",Je,[(p(!0),h(Be,null,Ge(k(y),f=>(p(),h("li",{key:typeof f=="object"?f.code:f,class:"px-4 py-2 flex items-center cursor-pointer hover:bg-gray-100"},[U(e("input",{type:"radio",id:typeof f=="object"?f.code:f,value:typeof f=="object"?f.code:f,"onUpdate:modelValue":D[0]||(D[0]=R=>Qe(v)?v.value=R:null),onChange:D[1]||(D[1]=R=>T(k(v))),class:"mr-2"},null,40,Ke),[[Fe,k(v)]]),e("label",{for:typeof f=="object"?f.code:f,class:"cursor-pointer"},o(typeof f=="object"?f.name:f),9,Xe)]))),128))])):Z("",!0)])}}}),tt={},lt={class:"py-4 border-b bg-[url('/assets/images/headerTest2.png')] bg-cover bg-center flex items-center"},ot={class:"absolute left-1/2 transform -translate-x-1/2 text-xl text-white capitalize"};function st(m,y){const g=et;return p(),h("header",lt,[e("div",null,[a(g,{class:"pl-4"})]),e("h1",ot,o(m.$t("title")),1)])}const at=Pe(tt,[["render",st]]),nt=pe({name:"TermsPopup",setup(){return{showPopup:r(!1)}}}),it={class:"flex"},rt={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-10"},dt={class:"bg-white p-6 rounded-lg shadow-lg max-w-sm"},ut={class:"text-lg font-bold mb-4"},ct={class:"text-xs text-gray-700"},pt={class:"text-base font-medium"},mt={class:"text-base font-medium"},ft={class:"text-base font-medium"};function vt(m,y,g,C,v,u){return p(),h("div",it,[e("a",{href:"#",class:"text-sm text-blue-700 ml-1",onClick:y[0]||(y[0]=Ze(_=>m.showPopup=!0,["prevent"]))},o(m.$t("HomePage.terms")),1),m.showPopup?(p(),h("div",rt,[e("div",dt,[e("h2",ut,o(m.$t("HomePage.terms")),1),e("div",ct,[e("p",pt,o(m.$t("PopUpRules.title1")),1),e("p",null,o(m.$t("PopUpRules.general_ticket")),1),e("p",null,o(m.$t("PopUpRules.infant_ticket")),1),e("p",mt,o(m.$t("PopUpRules.title2")),1),e("p",null,o(m.$t("PopUpRules.notice")),1),e("p",null,o(m.$t("PopUpRules.real_info")),1),e("p",null,o(m.$t("PopUpRules.online_deadline")),1),e("p",null,o(m.$t("PopUpRules.refund_deadline")),1),e("p",null,o(m.$t("PopUpRules.ticket_validity")),1),e("p",null,o(m.$t("PopUpRules.contact")),1),e("p",ft,o(m.$t("PopUpRules.title3")),1),e("p",null,o(m.$t("PopUpRules.process")),1),e("p",null,o(m.$t("PopUpRules.safety")),1),e("p",null,o(m.$t("PopUpRules.valuables")),1),e("p",null,o(m.$t("PopUpRules.insurance")),1),e("p",null,o(m.$t("PopUpRules.invoice")),1)]),e("button",{class:"mt-4 px-4 py-2 bg-lwm-400 text-white rounded hover:bg-green-700",onClick:y[1]||(y[1]=_=>m.showPopup=!1)},o(m.$t("okButton")),1)])])):Z("",!0)])}const Le=Pe(nt,[["render",vt]]),_t={class:"flex-col p-4"},ht={class:"border-l-4 my-3 border-lwm-400 text-justify pl-2"},gt={class:"flex justify-around"},bt={class:"flex"},yt={class:"flex-1 text-gray-500 ml-2"},xt={class:"flex"},$t={class:"flex-1 text-gray-500 ml-2"},kt={class:"flex justify-evenly"},wt={key:0,class:"ml-auto text-2xl"},Ht={key:1,class:"ml-auto text-2xl"},Bt={key:2,class:"mr-auto text-2xl"},Tt={key:3,class:"mr-auto text-2xl"},Pt={class:"flex flex-col pt-3 pl-4"},Mt={key:0,class:"flex pb-1"},Dt={class:"flex flex-col"},Ot={class:"flex"},Ct={class:"text-lwm-500"},Ut={class:"border rounded-lg mr-2"},Rt=["placeholder"],At={class:"flex flex-col"},St={class:"flex pr-4"},Yt={class:"text-lwm-500"},jt={class:"border rounded-lg"},Nt={disabled:"",value:""},Vt={class:"flex"},It={key:0,class:"text-lwm-500"},Lt={key:1,class:"text-lwm-500"},zt={class:"flex pt-2 pl-4 space-x-4"},qt={class:"flex flex-col py-2 pl-4"},Wt={class:"flex items-center"},Gt={class:"flex pr-4"},Ft={class:"text-lwm-500"},Qt={class:"flex pl-4"},Zt={class:"text-lwm-500"},Et={class:"flex pt-2 pl-4 space-x-4"},Jt={class:"flex pl-6 pt-2 justify-evenly content-center"},Kt={class:"flex flex-1"},Xt={class:"flex-1"},el={class:"flex-1 flex"},tl={class:"border border-gray-300 bg-gray-white w-fit px-4 mx-1 my-auto text-sm rounded-full"},ll={class:"flex pl-6 pt-2 justify-evenly content-center"},ol={class:"flex flex-1"},sl={class:"flex-1"},al={class:"flex-1 flex"},nl={class:"border border-gray-300 bg-gray-white w-fit px-4 mx-1 my-auto text-sm rounded-full"},il={class:"flex pl-6 pt-3 justify-evenly content-center"},rl={class:"flex-1"},dl={class:"flex-1"},ul={class:"flex py-4 px-6 content-center"},cl={class:"flex-none pr-6"},pl=["placeholder"],ml={class:"flex py-4 px-6 content-center"},fl={class:"flex-none pr-2"},vl=["placeholder"],_l={class:"flex justify-center"},hl={for:"checkbox",class:"ml-2 text-sm text-gray-700"},gl={class:"pt-1 flex justify-center pb-4"},bl=pe({__name:"OneWayTicket",setup(m){const{locale:y}=se(),g=Me(),C=r(!1),v=r(),u=r(),_=r(""),T=r(""),x=r(""),D=r(""),P=r(""),f=r(""),R=r(""),O=r({adult:1,child:1}),j=r("oneWay"),z=ce(()=>{const s=O.value.adult;return Math.min(s,2)*150+Math.max(s-2,0)*100}),$=r(!1),N=r(""),q={"zh-CN":Se,"zh-TW":be,"en-US":je},V=ce(()=>q[y.value]||be),{t:w}=se(),W=()=>Array.from({length:24},(s,n)=>n).filter(s=>s<8||s>18),ae=s=>s===8?Array.from({length:60},(n,c)=>c).filter(n=>n<30):s===18?Array.from({length:60},(n,c)=>c).filter(n=>n>=1):[],E=()=>{const s=M(f.value,"HH:mm").hour();return Array.from({length:24},(n,c)=>c).filter(n=>n<s||n>18)},ne=s=>{const n=M(f.value,"HH:mm").minute();return s===8?Array.from({length:60},(c,H)=>H).filter(c=>c<30):s===19?Array.from({length:60},(c,H)=>H).filter(c=>c>=1):Array.from({length:60},(c,H)=>H).filter(c=>c<n)};te(_,s=>{if(s){const n=M(s,"HH:mm").add(30,"minute"),c=M(s,"HH:mm").add(90,"minute");P.value=c.format("HH:mm"),f.value=c.format("HH:mm"),T.value=n.format("HH:mm")}else T.value="",f.value="",P.value=""});const J=s=>{Ye.open({message:w("HomePage.notification.title"),description:w("HomePage.notification.description"),placement:s})},K=s=>{s&&oe.info(w("alertMessage2"))},me=s=>{s&&oe.info(w("alertMessage3"))},fe=s=>{s&&oe.info(w("alertMessage"))};te(v,s=>{s?(u.value=s,_.value=""):(u.value=void 0,_.value="")});const X=()=>{$.value=!$.value},ee=s=>{if(!de.value)return!0;const n=s&&s.isBefore(M().add(1,"day").startOf("day")),c=re.value.some(H=>{const S=M(H.startOffDays),I=H.endOffDays?M(H.endOffDays):S;return s.isSameOrAfter(S,"day")&&s.isSameOrBefore(I,"day")});return n||c},ie=s=>{O.value[s]++},ve=s=>{O.value[s]>0&&O.value[s]--},_e=async()=>{if(!C.value)J("bottom");else{let s=await ye();if((!s||!s.user_id)&&(alert(w("alertMessage13")),s=await ye(),!s)){console.log("登入失敗");return}const n={trip_type:j.value,LineID:s.user_id,adult_num:O.value.adult,child_num:O.value.child,contact_phone:x.value,totalprice:z.value,contact_name:R.value,departure_loc:$.value?"Booking.airport":"Booking.pier",destination_loc:$.value?"Booking.pier":"Booking.airport",return_departure:void 0,return_destination:void 0,arrivalpoint_date:v.value?v.value.format("YYYY-MM-DD"):void 0,arrivalpoint_time:_.value,return_arrival_date:void 0,return_arrival_time:void 0,flight_num:D.value||void 0,ferry_time:f.value||void 0,flight_time:P.value||void 0,shuttle_date:u.value?u.value.format("YYYY-MM-DD"):void 0,shuttle_time:T.value,return_shuttle_date:void 0,return_shuttle_time:void 0,flight_loc:N.value||void 0};try{const c=await $fetch("/api/POSTbooking",{method:"POST",body:n});if(c!=null&&c.id){const H=c.id[0].id,S=g("/confirmationPage/"+H);Ce({path:S,query:{isSwapped:String($.value)}})}}catch{alert(w("alertMessage4"))}}},re=r([]),he=r([]),de=r(!1);return De(async()=>{if(!de.value)try{const s=await $fetch("/api/GETallOffdays");he.value=s.data,re.value=he.value.map(n=>({id:n.id,startOffDays:n.start_offDays,endOffDays:n.end_offDays,created_at:n.created_at,create_by:n.created_by})),de.value=!0}catch{alert(w("alertMessage15"))}}),(s,n)=>{const c=we,H=Ne,S=Ve,I=Re,G=Ae,ge=Ue,ue=Le,Te=Ie;return p(),h(Be,null,[e("div",_t,[e("p",ht,o(s.$t("HomePage.oneWay")),1),e("div",gt,[e("div",bt,[a(c,{name:"i-material-symbols-directions-car",class:"bg-gray-500 w-6 h-6"}),e("p",yt,o(s.$t("Booking.departure")),1)]),e("div",xt,[a(c,{name:"i-mdi-map-marker-radius-outline",class:"bg-gray-500 w-6 h-6"}),e("p",$t,o(s.$t("Booking.arrival")),1)])]),e("div",kt,[$.value?(p(),h("p",wt,o(s.$t("Booking.airport")),1)):(p(),h("p",Ht,o(s.$t("Booking.pier")),1)),a(c,{name:"fa6-solid:rotate",class:F(["mx-auto bg-lwm-400 w-7 h-7 cursor-pointer transition-transform duration-500",{"rotate-180":$.value}]),onClick:X},null,8,["class"]),$.value?(p(),h("p",Bt,o(s.$t("Booking.pier")),1)):(p(),h("p",Tt,o(s.$t("Booking.airport")),1))]),n[16]||(n[16]=e("div",{class:"border-b-2 py-3"},null,-1)),e("div",Pt,[$.value?(p(),h("div",Mt,[e("div",Dt,[e("div",Ot,[a(c,{name:"lucide:tickets",class:"bg-lwm-50 w-6 h-6"}),e("p",Ct,o(s.$t("Booking.flightNumber")),1)]),e("div",Ut,[U(e("input",{type:"text",placeholder:s.$t("Booking.required"),"onUpdate:modelValue":n[0]||(n[0]=t=>D.value=t),class:"px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},null,8,Rt),[[Q,D.value]])])]),e("div",At,[e("div",St,[a(c,{name:"uil-plane-departure",class:"bg-lwm-50 w-6 h-6"}),e("p",Yt,o(s.$t("Booking.flightDeparture")),1)]),e("div",jt,[U(e("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>N.value=t),class:"flex-1 px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},[e("option",Nt,o(s.$t("Booking.required")),1),n[15]||(n[15]=ke('<option value="TSA">松山 (TSA)</option><option value="RMQ">台中 (RMQ)</option><option value="CYI">嘉義 (CYI)</option><option value="TNN">台南 (TNN)</option><option value="MZG">澎湖 (MZG)</option>',5))],512),[[$e,N.value]])])])])):Z("",!0),e("div",Vt,[a(c,{name:$.value?"i-material-symbols-flight-land":"i-majesticons-ship-line",class:"bg-lwm-50 w-6 h-6"},null,8,["name"]),$.value?(p(),h("p",It,o(s.$t("Booking.arrivalAtAirportTime")),1)):(p(),h("p",Lt,o(s.$t("Booking.arrivalPortTime")),1))])]),a(G,{locale:k(V)},{default:b(()=>[e("div",zt,[a(S,{direction:"vertical",size:12},{default:b(()=>[a(H,{value:v.value,"onUpdate:value":n[2]||(n[2]=t=>v.value=t),"disabled-date":ee,"show-today":!1,onOpenChange:K,inputReadOnly:!0},null,8,["value"])]),_:1}),a(I,{value:_.value,"onUpdate:value":n[3]||(n[3]=t=>_.value=t),"value-format":"HH:mm","minute-step":$.value?5:30,"hour-step":1,"disabled-hours":W,"disabled-minutes":ae,"hide-disabled-options":!0,"show-now":!1,format:"HH:mm",disabled:!v.value,inputReadOnly:!0},null,8,["value","minute-step","disabled"])])]),_:1},8,["locale"]),e("div",qt,[e("div",Wt,[e("div",Gt,[a(c,{name:"lucide:tickets",class:"bg-lwm-100 w-6 h-6"}),e("p",Ft,o($.value?s.$t("Booking.ferryTime"):s.$t("Booking.flightTime")),1)]),e("div",null,[$.value?(p(),le(G,{key:0,locale:k(V)},{default:b(()=>[a(I,{value:f.value,"onUpdate:value":n[4]||(n[4]=t=>f.value=t),"minute-step":30,"value-format":"HH:mm",format:"HH:mm","disabled-hours":E,"disabled-minutes":ne,"hide-disabled-options":!0,"show-now":!1,disabled:!_.value,onOpenChange:fe,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"])):(p(),le(G,{key:1,locale:k(V)},{default:b(()=>[a(I,{value:P.value,"onUpdate:value":n[5]||(n[5]=t=>P.value=t),"minute-step":5,"value-format":"HH:mm",format:"HH:mm","disabled-hours":E,"disabled-minutes":ne,"hide-disabled-options":!0,"show-now":!1,disabled:!_.value,onOpenChange:me,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"]))])])]),e("div",Qt,[a(c,{name:"i-material-symbols-directions-car",class:"bg-lwm-100 w-6 h-6"}),e("p",Zt,o(s.$t("Booking.shuttleBusTime")),1)]),a(G,{locale:k(V)},{default:b(()=>[e("div",Et,[a(S,{direction:"vertical",size:12},{default:b(()=>[a(H,{value:u.value,"onUpdate:value":n[6]||(n[6]=t=>u.value=t),disabled:!0},null,8,["value"])]),_:1}),a(I,{value:T.value,"onUpdate:value":n[7]||(n[7]=t=>T.value=t),"minute-step":30,"value-format":"HH:mm",disabled:!0,format:"HH:mm"},null,8,["value"])])]),_:1},8,["locale"]),a(ge),e("div",Jt,[e("div",Kt,[e("p",Xt,o(s.$t("Booking.adultTicket")),1),e("div",el,[e("button",{onClick:n[8]||(n[8]=t=>ve("adult"))},[a(c,{name:"i-mdi-minus-circle-outline"})]),e("p",tl,o(O.value.adult),1),e("button",{onClick:n[9]||(n[9]=t=>ie("adult"))},[a(c,{name:"i-material-symbols-add-circle-outline"})])])])]),e("div",ll,[e("div",ol,[e("p",sl,o(s.$t("Booking.childTicket")),1),e("div",al,[e("button",{onClick:n[10]||(n[10]=t=>ve("child"))},[a(c,{name:"i-mdi-minus-circle-outline"})]),e("p",nl,o(O.value.child),1),e("button",{onClick:n[11]||(n[11]=t=>ie("child"))},[a(c,{name:"i-material-symbols-add-circle-outline"})])])])]),e("div",il,[e("p",rl,o(s.$t("Booking.ticketPrice")),1),e("p",dl,"NT$ "+o(k(z))+o(s.$t("Booking.pricePerPerson")),1)]),e("div",ul,[e("p",cl,o(s.$t("Booking.contact")),1),U(e("input",{type:"text",placeholder:s.$t("Booking.required"),"onUpdate:modelValue":n[12]||(n[12]=t=>R.value=t),class:"flex-1 px-2 border-b-2 border-gray-600 bg-inherit focus:outline-none text-sm min-w-0"},null,8,pl),[[Q,R.value]])]),e("div",ml,[e("p",fl,o(s.$t("Booking.phone")),1),U(e("input",{type:"text",placeholder:s.$t("Booking.required"),"onUpdate:modelValue":n[13]||(n[13]=t=>x.value=t),class:"flex-1 px-2 border-b-2 border-gray-600 bg-inherit focus:outline-none text-sm min-w-0"},null,8,vl),[[Q,x.value]])])]),e("div",_l,[U(e("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":n[14]||(n[14]=t=>C.value=t),class:"h-5 w-3 border-black rounded-full"},null,512),[[Oe,C.value]]),e("label",hl,o(s.$t("HomePage.readAgreement")),1),a(ue)]),e("div",gl,[a(Te,{type:"primary",onClick:_e,class:"w-2/3 rounded-lg !bg-lwm-400 text-white active:!bg-lime-700"},{default:b(()=>[He(o(s.$t("HomePage.confirm")),1)]),_:1})])],64)}}}),yl={class:"flex-col p-4"},xl={class:"border-l-4 my-3 border-lwm-400 text-justify pl-2"},$l={class:"flex justify-around"},kl={class:"flex"},wl={class:"flex-1 text-gray-500 ml-2"},Hl={class:"flex"},Bl={class:"flex-1 text-gray-500 ml-2"},Tl={class:"flex justify-evenly"},Pl={class:"ml-auto text-2xl"},Ml={class:"mr-auto text-2xl"},Dl={class:"flex flex-col pt-3 pl-4"},Ol={key:0,class:"flex pb-1"},Cl={class:"flex flex-col"},Ul={class:"flex"},Rl={class:"text-lwm-500"},Al={class:"border rounded-lg mr-2"},Sl=["placeholder"],Yl={class:"flex flex-col"},jl={class:"flex pr-4"},Nl={class:"text-lwm-500"},Vl={class:"border rounded-lg"},Il={disabled:"",value:""},Ll={class:"flex"},zl={key:0,class:"text-lwm-500"},ql={key:1,class:"text-lwm-500"},Wl={class:"flex pt-2 pl-4 space-x-4"},Gl={class:"flex flex-col py-2 pl-4"},Fl={class:"flex items-center"},Ql={class:"flex pr-4"},Zl={class:"text-lwm-500"},El={class:"flex pl-4"},Jl={class:"text-lwm-500"},Kl={class:"flex pt-2 pl-4 space-x-4"},Xl={class:"border-l-4 my-3 border-orange-400 text-justify pl-2"},eo={class:"flex justify-around"},to={class:"flex"},lo={class:"flex-1 text-gray-500 ml-2"},oo={class:"flex"},so={class:"flex-1 text-gray-500 ml-2"},ao={class:"flex justify-evenly"},no={class:"ml-auto text-2xl"},io={class:"mr-auto text-2xl"},ro={class:"flex flex-col pt-3 pl-4"},uo={key:0,class:"flex pb-1"},co={class:"flex flex-col"},po={class:"flex"},mo={class:"text-lwm-500"},fo={class:"border rounded-lg mr-2"},vo=["placeholder"],_o={class:"flex flex-col"},ho={class:"flex pr-4"},go={class:"text-lwm-500"},bo={class:"border rounded-lg"},yo={disabled:"",value:""},xo={class:"flex"},$o={key:0,class:"text-lwm-500"},ko={key:1,class:"text-lwm-500"},wo={class:"flex pt-2 pl-4 space-x-4"},Ho={class:"flex flex-col py-2 pl-4"},Bo={class:"flex items-center"},To={class:"flex pr-4"},Po={class:"text-lwm-500"},Mo={class:"flex pl-4"},Do={class:"text-lwm-500"},Oo={class:"flex pt-2 pl-4 space-x-4"},Co={class:"flex pl-6 pt-2 justify-evenly content-center"},Uo={class:"flex flex-1"},Ro={class:"flex-1"},Ao={class:"flex-1 flex"},So={class:"border border-gray-300 bg-gray-white w-fit px-4 mx-1 my-auto text-sm rounded-full"},Yo={class:"flex pl-6 pt-2 justify-evenly content-center"},jo={class:"flex flex-1"},No={class:"flex-1"},Vo={class:"flex-1 flex"},Io={class:"border border-gray-300 bg-gray-white w-fit px-4 mx-1 my-auto text-sm rounded-full"},Lo={class:"flex pl-6 pt-3 justify-evenly content-center"},zo={class:"flex-1"},qo={class:"flex-1"},Wo={class:"flex py-4 px-6 content-center"},Go={class:"flex-none pr-6"},Fo=["placeholder"],Qo={class:"flex py-4 px-6 content-center"},Zo={class:"flex-none pr-2"},Eo=["placeholder"],Jo={class:"flex justify-center"},Ko={for:"checkbox",class:"ml-2 text-sm text-gray-700"},Xo={class:"pt-1 flex justify-center pb-4"},es=pe({__name:"RoundedWayTicket",setup(m){const y=r("roundTrip"),{t:g}=se(),C=Me(),{locale:v}=se(),u=r(!1),_=r(),T=r(),x=r(),D=r(),P=r(""),f=r(""),R=r(""),O=r(""),j=r(""),z=r(""),$=r(""),N=r(""),q=r(""),V=r(!1),w=r({adult:1,child:1}),W=r(""),ae=r(""),E=r(""),ne=ce(()=>{const t=w.value.adult;return Math.min(t,2)*300+Math.max(t-2,0)*200}),J=r({p2:g("Booking.pier"),p3:g("Booking.airport")}),K=r({p2:g("Booking.airport"),p3:g("Booking.pier")}),me=()=>Array.from({length:24},(t,l)=>l).filter(t=>t<8||t>18),fe=t=>t===8?Array.from({length:60},(l,i)=>i).filter(l=>l<30):t===18?Array.from({length:60},(l,i)=>i).filter(l=>l>=30):[],X=()=>{const t=M(j.value,"HH:mm").hour();return Array.from({length:24},(l,i)=>i).filter(l=>l<t||l>18)},ee=t=>{const l=M(j.value,"HH:mm").minute();return t===8?Array.from({length:60},(i,B)=>B).filter(i=>i<30):t===19?Array.from({length:60},(i,B)=>B).filter(i=>i>=1):Array.from({length:60},(i,B)=>B).filter(i=>i<l)},ie=t=>{t&&oe.info(g("alertMessage"))},ve=t=>{t&&oe.info(g("alertMessage2"))},_e=t=>{t&&oe.info(g("alertMessage3"))};te(P,t=>{if(t){const l=M(t,"HH:mm").add(30,"minute"),i=M(t,"HH:mm").add(90,"minute");O.value=i.format("HH:mm"),j.value=i.format("HH:mm"),f.value=l.format("HH:mm")}else f.value="",j.value="",O.value=""}),te(N,t=>{if(t){const l=M(t,"HH:mm").add(30,"minute"),i=M(t,"HH:mm").add(90,"minute");$.value=i.format("HH:mm"),z.value=i.format("HH:mm"),q.value=l.format("HH:mm")}else q.value="",$.value="",z.value=""}),te(x,t=>{t?D.value=t:D.value=void 0}),te(_,t=>{t?T.value=t:(T.value=void 0,P.value="")});const re=t=>{if(!ue.value)return!0;const l=t&&t.isBefore(M().add(1,"day").startOf("day")),i=G.value.some(B=>{const Y=M(B.startOffDays),A=B.endOffDays?M(B.endOffDays):Y;return console.log("OffDay Range:",Y.format("YYYY-MM-DD"),"to",A.format("YYYY-MM-DD")),t.isSameOrAfter(Y,"day")&&t.isSameOrBefore(A,"day")});return l||i},he=t=>t&&(!_.value||t.isBefore(_.value)),de=t=>t&&(!_.value||t.isBefore(_.value)),xe=()=>{u.value=!u.value},s={"zh-CN":Se,"zh-TW":be,"en-US":je},n=ce(()=>s[v.value]||be),c=t=>{Ye.open({message:g("HomePage.notification.title"),description:g("HomePage.notification.description"),placement:t})},H=t=>{w.value[t]++},S=t=>{w.value[t]>0&&w.value[t]--},I=async()=>{if(!V.value)c("bottom");else{let t=await ye();if((!t||!t.user_id)&&(alert(g("alertMessage13")),t=await ye(),!t)){console.log("登入失敗");return}const l={trip_type:y.value,LineID:t.user_id,adult_num:w.value.adult,child_num:w.value.child,contact_phone:E.value,totalprice:ne.value,contact_name:ae.value,departure_loc:u.value?"Booking.airport":"Booking.pier",destination_loc:u.value?"Booking.pier":"Booking.airport",return_departure:u.value?"Booking.pier":"Booking.airport",return_destination:u.value?"Booking.airport":"Booking.pier",arrivalpoint_date:_.value?_.value.format("YYYY-MM-DD"):void 0,arrivalpoint_time:P.value,return_arrival_date:x.value?x.value.format("YYYY-MM-DD"):void 0,return_arrival_time:N.value,flight_num:R.value||void 0,ferry_time:j.value||void 0,flight_time:O.value||void 0,shuttle_date:T.value?T.value.format("YYYY-MM-DD"):void 0,shuttle_time:f.value,return_shuttle_date:D.value?D.value.format("YYYY-MM-DD"):void 0,return_shuttle_time:q.value,flight_loc:W.value||void 0};try{const i=await $fetch("/api/POSTbooking",{method:"POST",body:l});if(console.log(i),i!=null&&i.id){const B=i.id[0].id;console.log("id check2:"+B);const Y=C("/confirmationPage/"+B);Ce({path:Y,query:{isSwapped:String(u.value)}})}}catch{alert(g("alertMessage4"))}}},G=r([]),ge=r([]),ue=r(!1);return De(async()=>{if(!ue.value)try{const t=await $fetch("/api/GETallOffdays");ge.value=t.data,G.value=ge.value.map(l=>({id:l.id,startOffDays:l.start_offDays,endOffDays:l.end_offDays,created_at:l.created_at,create_by:l.created_by})),ue.value=!0}catch{alert(g("alertMessage15"))}}),(t,l)=>{const i=we,B=Ne,Y=Ve,A=Re,L=Ae,ze=Ue,qe=Le,We=Ie;return p(),h("div",yl,[e("div",null,[e("p",xl,o(t.$t("Booking.outward")),1)]),e("div",$l,[e("div",kl,[a(i,{name:"i-material-symbols-directions-car",class:"bg-gray-500 w-6 h-6"}),e("p",wl,o(t.$t("Booking.departure")),1)]),e("div",Hl,[a(i,{name:"i-mdi-map-marker-radius-outline",class:"bg-gray-500 w-6 h-6"}),e("p",Bl,o(t.$t("Booking.arrival")),1)])]),e("div",Tl,[e("p",Pl,o(u.value?K.value.p2:J.value.p2),1),a(i,{name:"fa6-solid:rotate",class:F(["mx-auto bg-lwm-400 w-7 h-7 cursor-pointer transition-transform duration-500",{"rotate-180":u.value}]),onClick:xe},null,8,["class"]),e("p",Ml,o(u.value?K.value.p3:J.value.p3),1)]),l[25]||(l[25]=e("div",{class:"border-b-2 py-3"},null,-1)),e("div",Dl,[u.value?(p(),h("div",Ol,[e("div",Cl,[e("div",Ul,[a(i,{name:"lucide:tickets",class:"bg-lwm-50 w-6 h-6"}),e("p",Rl,o(t.$t("Booking.flightNumber")),1)]),e("div",Al,[U(e("input",{type:"text",placeholder:t.$t("Booking.required"),"onUpdate:modelValue":l[0]||(l[0]=d=>R.value=d),class:"px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},null,8,Sl),[[Q,R.value]])])]),e("div",Yl,[e("div",jl,[a(i,{name:"uil-plane-departure",class:"bg-lwm-50 w-6 h-6"}),e("p",Nl,o(t.$t("Booking.flightDeparture")),1)]),e("div",Vl,[U(e("select",{"onUpdate:modelValue":l[1]||(l[1]=d=>W.value=d),class:"flex-1 px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},[e("option",Il,o(t.$t("Booking.required")),1),l[23]||(l[23]=ke('<option value="TSA">松山 (TSA)</option><option value="RMQ">台中 (RMQ)</option><option value="CYI">嘉義 (CYI)</option><option value="TNN">台南 (TNN)</option><option value="MZG">澎湖 (MZG)</option>',5))],512),[[$e,W.value]])])])])):Z("",!0),e("div",Ll,[a(i,{name:u.value?"i-material-symbols-flight-land":"i-majesticons-ship-line",class:"bg-lwm-50 w-6 h-6"},null,8,["name"]),u.value?(p(),h("p",zl,o(t.$t("Booking.arrivalAtAirportTime")),1)):(p(),h("p",ql,o(t.$t("Booking.arrivalPortTime")),1))])]),a(L,{locale:k(n)},{default:b(()=>[e("div",Wl,[a(Y,{direction:"vertical",size:12},{default:b(()=>[a(B,{value:_.value,"onUpdate:value":l[2]||(l[2]=d=>_.value=d),"disabled-date":re,"show-today":!1,onOpenChange:ve,inputReadOnly:!0},null,8,["value"])]),_:1}),a(A,{value:P.value,"onUpdate:value":l[3]||(l[3]=d=>P.value=d),"value-format":"HH:mm","disabled-hours":me,"disabled-minutes":fe,"minute-step":u.value?5:30,"hour-step":1,"hide-disabled-options":!0,"show-now":!1,format:"HH:mm",disabled:!_.value,inputReadOnly:!0},null,8,["value","minute-step","disabled"])])]),_:1},8,["locale"]),e("div",Gl,[e("div",Fl,[e("div",Ql,[a(i,{name:"lucide:tickets",class:"bg-lwm-100 w-6 h-6"}),e("p",Zl,o(u.value?t.$t("Booking.ferryTime"):t.$t("Booking.flightTime")),1)]),e("div",null,[u.value?(p(),le(L,{key:0,locale:k(n)},{default:b(()=>[a(A,{value:j.value,"onUpdate:value":l[4]||(l[4]=d=>j.value=d),"minute-step":30,"value-format":"HH:mm",format:"HH:mm","disabled-hours":X,"disabled-minutes":ee,"hide-disabled-options":!0,"show-now":!1,disabled:!P.value,onOpenChange:ie,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"])):(p(),le(L,{key:1,locale:k(n)},{default:b(()=>[a(A,{value:O.value,"onUpdate:value":l[5]||(l[5]=d=>O.value=d),"minute-step":5,"value-format":"HH:mm",format:"HH:mm","disabled-hours":X,"disabled-minutes":ee,"hide-disabled-options":!0,"show-now":!1,disabled:!P.value,onOpenChange:_e,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"]))])])]),e("div",El,[a(i,{name:"i-material-symbols-directions-car",class:"bg-lwm-100 w-6 h-6"}),e("p",Jl,o(t.$t("Booking.shuttleBusTime")),1)]),a(L,{locale:k(n)},{default:b(()=>[e("div",Kl,[a(Y,{direction:"vertical",size:12},{default:b(()=>[a(B,{value:T.value,"onUpdate:value":l[6]||(l[6]=d=>T.value=d),disabled:!0,"disabled-date":he},null,8,["value"])]),_:1}),a(A,{value:f.value,"onUpdate:value":l[7]||(l[7]=d=>f.value=d),"value-format":"HH:mm",disabled:!0,"minute-step":30,format:"HH:mm"},null,8,["value"])])]),_:1},8,["locale"]),l[26]||(l[26]=e("div",{class:"border-b-2 py-3 border-dashed border-gray-500"},null,-1)),e("p",Xl,o(t.$t("Booking.return")),1),e("div",eo,[e("div",to,[a(i,{name:"i-material-symbols-directions-car",class:"bg-gray-500 w-6 h-6"}),e("p",lo,o(t.$t("Booking.departure")),1)]),e("div",oo,[a(i,{name:"i-mdi-map-marker-radius-outline",class:"bg-gray-500 w-6 h-6"}),e("p",so,o(t.$t("Booking.arrival")),1)])]),e("div",ao,[e("p",no,o(u.value?J.value.p2:K.value.p2),1),a(i,{name:"fa6-solid:rotate",class:F(["mx-auto bg-lwm-400 w-7 h-7 cursor-pointer transition-transform duration-500",{"rotate-180":u.value}]),onClick:xe},null,8,["class"]),e("p",io,o(u.value?J.value.p3:K.value.p3),1)]),l[27]||(l[27]=e("div",{class:"border-b-2 py-3"},null,-1)),e("div",ro,[u.value?Z("",!0):(p(),h("div",uo,[e("div",co,[e("div",po,[a(i,{name:"lucide:tickets",class:"bg-lwm-50 w-6 h-6"}),e("p",mo,o(t.$t("Booking.flightNumber")),1)]),e("div",fo,[U(e("input",{type:"text",placeholder:t.$t("Booking.required"),"onUpdate:modelValue":l[8]||(l[8]=d=>R.value=d),class:"px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},null,8,vo),[[Q,R.value]])])]),e("div",_o,[e("div",ho,[a(i,{name:"uil-plane-departure",class:"bg-lwm-50 w-6 h-6"}),e("p",go,o(t.$t("Booking.flightDeparture")),1)]),e("div",bo,[U(e("select",{"onUpdate:modelValue":l[9]||(l[9]=d=>W.value=d),class:"flex-1 px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},[e("option",yo,o(t.$t("Booking.required")),1),l[24]||(l[24]=ke('<option value="TSA">松山 (TSA)</option><option value="RMQ">台中 (RMQ)</option><option value="CYI">嘉義 (CYI)</option><option value="TNN">台南 (TNN)</option><option value="MZG">澎湖 (MZG)</option>',5))],512),[[$e,W.value]])])])])),e("div",xo,[a(i,{name:u.value?"i-majesticons-ship-line":"i-material-symbols-flight-land",class:"bg-lwm-50 w-6 h-6"},null,8,["name"]),u.value?(p(),h("p",$o,o(t.$t("Booking.arrivalPortTime")),1)):(p(),h("p",ko,o(t.$t("Booking.arrivalAtAirportTime")),1))])]),a(L,{locale:k(n)},{default:b(()=>[e("div",wo,[a(Y,{direction:"vertical",size:12},{default:b(()=>[a(B,{value:x.value,"onUpdate:value":l[10]||(l[10]=d=>x.value=d),"disabled-date":re,"show-today":!1,inputReadOnly:!0},null,8,["value"])]),_:1}),a(A,{value:N.value,"onUpdate:value":l[11]||(l[11]=d=>N.value=d),"value-format":"HH:mm","disabled-hours":me,"disabled-minutes":fe,"minute-step":u.value?30:5,"hour-step":1,"hide-disabled-options":!0,"show-now":!1,format:"HH:mm",disabled:!x.value,inputReadOnly:!0},null,8,["value","minute-step","disabled"])])]),_:1},8,["locale"]),e("div",Ho,[e("div",Bo,[e("div",To,[a(i,{name:"lucide:tickets",class:"bg-lwm-100 w-6 h-6"}),e("p",Po,o(u.value?t.$t("Booking.flightTime"):t.$t("Booking.ferryTime")),1)]),e("div",null,[u.value?(p(),le(L,{key:0,locale:k(n)},{default:b(()=>[a(A,{value:z.value,"onUpdate:value":l[12]||(l[12]=d=>z.value=d),"minute-step":5,"value-format":"HH:mm",format:"HH:mm","disabled-hours":X,"disabled-minutes":ee,"hide-disabled-options":!0,"show-now":!1,disabled:!P.value,onOpenChange:_e,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"])):(p(),le(L,{key:1,locale:k(n)},{default:b(()=>[a(A,{value:$.value,"onUpdate:value":l[13]||(l[13]=d=>$.value=d),"minute-step":30,"value-format":"HH:mm",format:"HH:mm","disabled-hours":X,"disabled-minutes":ee,"hide-disabled-options":!0,"show-now":!1,disabled:!N.value,onOpenChange:ie,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"]))])])]),e("div",Mo,[a(i,{name:"i-material-symbols-directions-car",class:"bg-lwm-100 w-6 h-6"}),e("p",Do,o(t.$t("Booking.shuttleBusTime")),1)]),a(L,{locale:k(n)},{default:b(()=>[e("div",Oo,[a(Y,{direction:"vertical",size:12},{default:b(()=>[a(B,{value:D.value,"onUpdate:value":l[14]||(l[14]=d=>D.value=d),disabled:!0,"disabled-date":de},null,8,["value"])]),_:1}),a(A,{value:q.value,"onUpdate:value":l[15]||(l[15]=d=>q.value=d),"value-format":"HH:mm",disabled:!0,"minute-step":30,format:"HH:mm"},null,8,["value"])])]),_:1},8,["locale"]),a(ze),e("div",Co,[e("div",Uo,[e("p",Ro,o(t.$t("Booking.adultTicket")),1),e("div",Ao,[e("button",{onClick:l[16]||(l[16]=d=>S("adult"))},[a(i,{name:"i-mdi-minus-circle-outline"})]),e("p",So,o(w.value.adult),1),e("button",{onClick:l[17]||(l[17]=d=>H("adult"))},[a(i,{name:"i-material-symbols-add-circle-outline"})])])])]),e("div",Yo,[e("div",jo,[e("p",No,o(t.$t("Booking.childTicket")),1),e("div",Vo,[e("button",{onClick:l[18]||(l[18]=d=>S("child"))},[a(i,{name:"i-mdi-minus-circle-outline"})]),e("p",Io,o(w.value.child),1),e("button",{onClick:l[19]||(l[19]=d=>H("child"))},[a(i,{name:"i-material-symbols-add-circle-outline"})])])])]),e("div",Lo,[e("p",zo,o(t.$t("Booking.ticketPrice")),1),e("p",qo,"NT$ "+o(k(ne))+o(t.$t("Booking.pricePerPerson")),1)]),e("div",Wo,[e("p",Go,o(t.$t("Booking.contact")),1),U(e("input",{"onUpdate:modelValue":l[20]||(l[20]=d=>ae.value=d),type:"text",placeholder:t.$t("Booking.required"),class:"flex-1 px-2 border-b-2 border-gray-600 bg-inherit focus:outline-none text-sm min-w-0"},null,8,Fo),[[Q,ae.value]])]),e("div",Qo,[e("p",Zo,o(t.$t("Booking.phone")),1),U(e("input",{"onUpdate:modelValue":l[21]||(l[21]=d=>E.value=d),type:"text",placeholder:t.$t("Booking.required"),class:"flex-1 px-2 border-b-2 border-gray-600 bg-inherit focus:outline-none text-sm min-w-0"},null,8,Eo),[[Q,E.value]])]),e("div",Jo,[U(e("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":l[22]||(l[22]=d=>V.value=d),class:"h-5 w-3 border-black rounded-full"},null,512),[[Oe,V.value]]),e("label",Ko,o(t.$t("HomePage.readAgreement")),1),a(qe)]),e("div",Xo,[a(We,{type:"primary",onClick:I,class:"w-2/3 rounded-lg !bg-lwm-400 text-white active:!bg-lime-700"},{default:b(()=>[He(o(t.$t("HomePage.confirm")),1)]),_:1})])])}}}),ts={class:"flex flex-col pb-16"},ls={class:"shadow mt-6 mx-10 rounded-lg bg-gray-50"},os={class:"flex"},ss={key:0},as={key:1},fs=pe({__name:"index",setup(m){se(),r(!1);const y=r(1),g=C=>{y.value=C};return(C,v)=>{const u=at,_=bl,T=es;return p(),h(Be,null,[a(u),e("div",ts,[e("div",ls,[e("div",os,[e("div",{onClick:v[1]||(v[1]=x=>g(1)),class:F([{"bg-lwm-100 rounded-tl-lg text-white":y.value===2},"flex-1 flex justify-center rounded-tl-lg transition-all duration-300 ease-in-out transform hover:scale-[1.01] active:scale-95 cursor-pointer"])},[e("button",{onClick:v[0]||(v[0]=x=>g(1)),class:F({" text-lwm-400 font-bold":y.value===1})},o(C.$t("HomePage.oneWay")),3)],2),e("div",{onClick:v[3]||(v[3]=x=>g(2)),class:F([{"bg-lwm-100 rounded-tr-lg text-white":y.value===1},"flex-1 flex justify-center rounded-tr-lg transition-all duration-300 ease-in-out transform hover:scale-[1.01] active:scale-95 cursor-pointer"])},[e("button",{onClick:v[2]||(v[2]=x=>g(2)),class:F({" text-lwm-400 font-bold":y.value===2})},o(C.$t("HomePage.roundTrip")),3)],2)]),y.value===1?(p(),h("div",ss,[a(_)])):Z("",!0),y.value===2?(p(),h("div",as,[a(T)])):Z("",!0)])])],64)}}});export{fs as default};

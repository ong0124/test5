import He from"./BtRyKcB8.js";import{d as pe,n as ae,p as ce,r,b as p,c as g,e,f as a,j as Be,t as o,k as w,F as Te,g as Fe,v as R,x as Qe,y as Ze,i as Z,s as Pe,z as Ee,l as Me,A as le,o as Oe,B as F,C as Q,D as ke,E as we,w as y,h as oe,G as Ce,H as M,I as Ue}from"./ByFj-TOV.js";import{_ as Re}from"./DSEPkS4d.js";import{l as ye,a as se,T as Ae,C as Se,b as Ye,c as je}from"./bWhm42Ni.js";import{l as Ne}from"./CzxZU394.js";import{l as xe}from"./CUJ2gW8I.js";import{D as Ve,S as Ie,B as Le}from"./D428BJ2O.js";import"./Bx7J-uke.js";const Je={class:"relative"},Ke={key:0,class:"absolute bg-white text-black rounded-md shadow-lg mt-2 z-10"},Xe=["id","value"],et=["for"],tt=pe({__name:"LangSwitcher",setup(m){const{locales:x,locale:b,setLocale:U}=ae(),_=ce({get:()=>b.value,set:$=>{U($)}}),c=r(!1),h=()=>{c.value=!c.value},T=$=>{_.value=$,c.value=!1};return($,O)=>{const D=He;return p(),g("div",Je,[e("button",{class:"flex items-center border-2 bg-lwm-100 border-white rounded-3xl text-white px-2",onClick:h},[a(D,{name:"tabler-arrows-exchange",class:"mr-1"}),Be(" "+o(w(_)),1)]),w(c)?(p(),g("ul",Ke,[(p(!0),g(Te,null,Fe(w(x),f=>(p(),g("li",{key:typeof f=="object"?f.code:f,class:"px-4 py-2 flex items-center cursor-pointer hover:bg-gray-100"},[R(e("input",{type:"radio",id:typeof f=="object"?f.code:f,value:typeof f=="object"?f.code:f,"onUpdate:modelValue":O[0]||(O[0]=A=>Ze(_)?_.value=A:null),onChange:O[1]||(O[1]=A=>T(w(_))),class:"mr-2"},null,40,Xe),[[Qe,w(_)]]),e("label",{for:typeof f=="object"?f.code:f,class:"cursor-pointer"},o(typeof f=="object"?f.name:f),9,et)]))),128))])):Z("",!0)])}}}),lt={},ot={class:"py-4 border-b bg-[url('/assets/images/headerTest2.png')] bg-cover bg-center flex items-center"},st={class:"absolute left-1/2 transform -translate-x-1/2 text-xl text-white capitalize"};function at(m,x){const b=tt;return p(),g("header",ot,[e("div",null,[a(b,{class:"pl-4"})]),e("h1",st,o(m.$t("title")),1)])}const nt=Pe(lt,[["render",at]]),it=pe({name:"TermsPopup",setup(){return{showPopup:r(!1)}}}),rt={class:"flex"},dt={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-10"},ut={class:"bg-white p-6 rounded-lg shadow-lg max-w-sm"},ct={class:"text-lg font-bold mb-4"},pt={class:"text-xs text-gray-700"},mt={class:"text-base font-medium"},ft={class:"text-base font-medium"},vt={class:"text-base font-medium"};function _t(m,x,b,U,_,c){return p(),g("div",rt,[e("a",{href:"#",class:"text-sm text-blue-700 ml-1",onClick:x[0]||(x[0]=Ee(h=>m.showPopup=!0,["prevent"]))},o(m.$t("HomePage.terms")),1),m.showPopup?(p(),g("div",dt,[e("div",ut,[e("h2",ct,o(m.$t("HomePage.terms")),1),e("div",pt,[e("p",mt,o(m.$t("PopUpRules.title1")),1),e("p",null,o(m.$t("PopUpRules.general_ticket")),1),e("p",null,o(m.$t("PopUpRules.infant_ticket")),1),e("p",ft,o(m.$t("PopUpRules.title2")),1),e("p",null,o(m.$t("PopUpRules.notice")),1),e("p",null,o(m.$t("PopUpRules.real_info")),1),e("p",null,o(m.$t("PopUpRules.online_deadline")),1),e("p",null,o(m.$t("PopUpRules.refund_deadline")),1),e("p",null,o(m.$t("PopUpRules.ticket_validity")),1),e("p",null,o(m.$t("PopUpRules.contact")),1),e("p",vt,o(m.$t("PopUpRules.title3")),1),e("p",null,o(m.$t("PopUpRules.process")),1),e("p",null,o(m.$t("PopUpRules.safety")),1),e("p",null,o(m.$t("PopUpRules.valuables")),1),e("p",null,o(m.$t("PopUpRules.insurance")),1),e("p",null,o(m.$t("PopUpRules.invoice")),1)]),e("button",{class:"mt-4 px-4 py-2 bg-lwm-400 text-white rounded hover:bg-green-700",onClick:x[1]||(x[1]=h=>m.showPopup=!1)},o(m.$t("okButton")),1)])])):Z("",!0)])}const ze=Pe(it,[["render",_t]]),ht={class:"flex-col p-4"},gt={class:"border-l-4 my-3 border-lwm-400 text-justify pl-2"},bt={class:"flex justify-around"},yt={class:"flex"},xt={class:"flex-1 text-gray-500 ml-2"},$t={class:"flex"},kt={class:"flex-1 text-gray-500 ml-2"},wt={class:"flex justify-evenly"},Ht={key:0,class:"ml-auto text-2xl"},Bt={key:1,class:"ml-auto text-2xl"},Tt={key:2,class:"mr-auto text-2xl"},Dt={key:3,class:"mr-auto text-2xl"},Pt={class:"flex flex-col pt-3 pl-4"},Mt={key:0,class:"flex pb-1"},Ot={class:"flex flex-col"},Ct={class:"flex"},Ut={class:"text-lwm-500"},Rt={class:"border rounded-lg mr-2"},At=["placeholder"],St={class:"flex flex-col"},Yt={class:"flex pr-4"},jt={class:"text-lwm-500"},Nt={class:"border rounded-lg"},Vt={disabled:"",value:""},It={class:"flex"},Lt={key:0,class:"text-lwm-500"},zt={key:1,class:"text-lwm-500"},qt={class:"flex pt-2 pl-4 space-x-4"},Wt={class:"flex flex-col py-2 pl-4"},Gt={class:"flex items-center"},Ft={class:"flex pr-4"},Qt={class:"text-lwm-500"},Zt={class:"flex pl-4"},Et={class:"text-lwm-500"},Jt={class:"flex pt-2 pl-4 space-x-4"},Kt={class:"flex pl-6 pt-2 justify-evenly content-center"},Xt={class:"flex flex-1"},el={class:"flex-1"},tl={class:"flex-1 flex"},ll={class:"border border-gray-300 bg-gray-white w-fit px-4 mx-1 my-auto text-sm rounded-full"},ol={class:"flex pl-6 pt-2 justify-evenly content-center"},sl={class:"flex flex-1"},al={class:"flex-1"},nl={class:"flex-1 flex"},il={class:"border border-gray-300 bg-gray-white w-fit px-4 mx-1 my-auto text-sm rounded-full"},rl={class:"flex pl-6 pt-3 justify-evenly content-center"},dl={class:"flex-1"},ul={class:"flex-1"},cl={class:"flex py-4 px-6 content-center"},pl={class:"flex-none pr-6"},ml=["placeholder"],fl={class:"flex py-4 px-6 content-center"},vl={class:"flex-none pr-2"},_l=["placeholder"],hl={class:"flex justify-center"},gl={for:"checkbox",class:"ml-2 text-sm text-gray-700"},bl={class:"pt-1 flex justify-center pb-4"},yl=pe({__name:"OneWayTicket",setup(m){const{locale:x}=ae(),b=Me(),U=r(!1),_=r(),c=r(),h=r(""),T=r(""),$=r(""),O=r(""),D=r(""),f=r(""),A=r(""),C=r({adult:1,child:1}),N=r("oneWay"),q=ce(()=>{const s=C.value.adult;return Math.min(s,2)*150+Math.max(s-2,0)*100}),k=r(!1),I=r(""),W={"zh-CN":Ye,"zh-TW":ye,"en-US":Ne},L=ce(()=>W[x.value]||ye),{t:H}=ae(),me=()=>Array.from({length:24},(s,n)=>n).filter(s=>s<8||s>18),fe=s=>s===8?Array.from({length:60},(n,d)=>d).filter(n=>n<30):s===18?Array.from({length:60},(n,d)=>d).filter(n=>n>=1):[],E=()=>{const s=M(f.value,"HH:mm").hour();return Array.from({length:24},(n,d)=>d).filter(n=>n<s||n>18)},J=s=>{const n=M(f.value,"HH:mm").minute();return s===8?Array.from({length:60},(d,P)=>P).filter(d=>d<30):s===19?Array.from({length:60},(d,P)=>P).filter(d=>d>=1):Array.from({length:60},(d,P)=>P).filter(d=>d<n)};le(h,s=>{if(s){const n=M(s,"HH:mm").add(30,"minute"),d=M(s,"HH:mm").add(90,"minute");D.value=d.format("HH:mm"),f.value=d.format("HH:mm"),T.value=n.format("HH:mm")}else T.value="",f.value="",D.value=""});const ve=s=>{je.open({message:H("HomePage.notification.title"),description:H("HomePage.notification.description"),placement:s})},K=s=>{s&&se.info(H("alertMessage2"))},X=s=>{s&&se.info(H("alertMessage3"))},_e=s=>{s&&se.info(H("alertMessage"))};le(_,s=>{s?(c.value=s,h.value=""):(c.value=void 0,h.value="")});const he=()=>{k.value=!k.value},ee=s=>{if(!de.value)return!0;const n=s&&s.isBefore(M().add(1,"day").startOf("day")),d=ie.value.some(P=>{const Y=M(P.startOffDays),V=P.endOffDays?M(P.endOffDays):Y;return s.isSameOrAfter(Y,"day")&&s.isSameOrBefore(V,"day")});return n||d},G=s=>{C.value[s]++},ne=s=>{C.value[s]>0&&C.value[s]--},$e=async()=>{if(!U.value)ve("bottom");else{let s=await xe();if((!s||!s.user_id)&&(alert(H("alertMessage13")),s=await xe(),!s)){console.log("登入失敗");return}const n={trip_type:N.value,LineID:s.user_id,adult_num:C.value.adult,child_num:C.value.child,contact_phone:$.value,totalprice:q.value,contact_name:A.value,departure_loc:k.value?"Booking.airport":"Booking.pier",destination_loc:k.value?"Booking.pier":"Booking.airport",return_departure:void 0,return_destination:void 0,arrivalpoint_date:_.value?_.value.format("YYYY-MM-DD"):void 0,arrivalpoint_time:h.value,return_arrival_date:void 0,return_arrival_time:void 0,flight_num:O.value||void 0,ferry_time:f.value||void 0,flight_time:D.value||void 0,shuttle_date:c.value?c.value.format("YYYY-MM-DD"):void 0,shuttle_time:T.value,return_shuttle_date:void 0,return_shuttle_time:void 0};try{const d=await $fetch("/api/POSTbooking",{method:"POST",body:n});if(d!=null&&d.id){const P=d.id[0].id,Y=b("/confirmationPage/"+P);Ue({path:Y,query:{isSwapped:String(k.value)}})}}catch{alert(H("alertMessage4"))}}},ie=r([]),re=r([]),de=r(!1);return Oe(async()=>{if(!de.value)try{const s=await $fetch("/api/GETallOffdays");re.value=s.data,ie.value=re.value.map(n=>({id:n.id,startOffDays:n.start_offDays,endOffDays:n.end_offDays,created_at:n.created_at,create_by:n.created_by})),de.value=!0}catch{alert(H("alertMessage15"))}}),(s,n)=>{const d=He,P=Ve,Y=Ie,V=Ae,te=Se,ge=Re,be=ze,ue=Le;return p(),g(Te,null,[e("div",ht,[e("p",gt,o(s.$t("HomePage.oneWay")),1),e("div",bt,[e("div",yt,[a(d,{name:"i-material-symbols-directions-car",class:"bg-gray-500 w-6 h-6"}),e("p",xt,o(s.$t("Booking.departure")),1)]),e("div",$t,[a(d,{name:"i-mdi-map-marker-radius-outline",class:"bg-gray-500 w-6 h-6"}),e("p",kt,o(s.$t("Booking.arrival")),1)])]),e("div",wt,[k.value?(p(),g("p",Ht,o(s.$t("Booking.airport")),1)):(p(),g("p",Bt,o(s.$t("Booking.pier")),1)),a(d,{name:"fa6-solid:rotate",class:F(["mx-auto bg-lwm-400 w-7 h-7 cursor-pointer transition-transform duration-500",{"rotate-180":k.value}]),onClick:he},null,8,["class"]),k.value?(p(),g("p",Tt,o(s.$t("Booking.pier")),1)):(p(),g("p",Dt,o(s.$t("Booking.airport")),1))]),n[16]||(n[16]=e("div",{class:"border-b-2 py-3"},null,-1)),e("div",Pt,[k.value?(p(),g("div",Mt,[e("div",Ot,[e("div",Ct,[a(d,{name:"lucide:tickets",class:"bg-lwm-50 w-6 h-6"}),e("p",Ut,o(s.$t("Booking.flightNumber")),1)]),e("div",Rt,[R(e("input",{type:"text",placeholder:s.$t("Booking.required"),"onUpdate:modelValue":n[0]||(n[0]=v=>O.value=v),class:"px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},null,8,At),[[Q,O.value]])])]),e("div",St,[e("div",Yt,[a(d,{name:"uil-plane-departure",class:"bg-lwm-50 w-6 h-6"}),e("p",jt,o(s.$t("Booking.flightDeparture")),1)]),e("div",Nt,[R(e("select",{"onUpdate:modelValue":n[1]||(n[1]=v=>I.value=v),class:"flex-1 px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},[e("option",Vt,o(s.$t("Booking.required")),1),n[15]||(n[15]=we('<option value="TSA">松山 (TSA)</option><option value="RMQ">台中 (RMQ)</option><option value="CYI">嘉義 (CYI)</option><option value="TNN">台南 (TNN)</option><option value="MZG">澎湖 (MZG)</option>',5))],512),[[ke,I.value]])])])])):Z("",!0),e("div",It,[a(d,{name:k.value?"i-material-symbols-flight-land":"i-majesticons-ship-line",class:"bg-lwm-50 w-6 h-6"},null,8,["name"]),k.value?(p(),g("p",Lt,o(s.$t("Booking.arrivalAtAirportTime")),1)):(p(),g("p",zt,o(s.$t("Booking.arrivalPortTime")),1))])]),a(te,{locale:w(L)},{default:y(()=>[e("div",qt,[a(Y,{direction:"vertical",size:12},{default:y(()=>[a(P,{value:_.value,"onUpdate:value":n[2]||(n[2]=v=>_.value=v),"disabled-date":ee,"show-today":!1,onOpenChange:K,inputReadOnly:!0},null,8,["value"])]),_:1}),a(V,{value:h.value,"onUpdate:value":n[3]||(n[3]=v=>h.value=v),"value-format":"HH:mm","minute-step":k.value?5:30,"hour-step":1,"disabled-hours":me,"disabled-minutes":fe,"hide-disabled-options":!0,"show-now":!1,format:"HH:mm",disabled:!_.value,inputReadOnly:!0},null,8,["value","minute-step","disabled"])])]),_:1},8,["locale"]),e("div",Wt,[e("div",Gt,[e("div",Ft,[a(d,{name:"lucide:tickets",class:"bg-lwm-100 w-6 h-6"}),e("p",Qt,o(k.value?s.$t("Booking.ferryTime"):s.$t("Booking.flightTime")),1)]),e("div",null,[k.value?(p(),oe(te,{key:0,locale:w(L)},{default:y(()=>[a(V,{value:f.value,"onUpdate:value":n[4]||(n[4]=v=>f.value=v),"minute-step":30,"value-format":"HH:mm",format:"HH:mm","disabled-hours":E,"disabled-minutes":J,"hide-disabled-options":!0,"show-now":!1,disabled:!h.value,onOpenChange:_e,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"])):(p(),oe(te,{key:1,locale:w(L)},{default:y(()=>[a(V,{value:D.value,"onUpdate:value":n[5]||(n[5]=v=>D.value=v),"minute-step":5,"value-format":"HH:mm",format:"HH:mm","disabled-hours":E,"disabled-minutes":J,"hide-disabled-options":!0,"show-now":!1,disabled:!h.value,onOpenChange:X,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"]))])])]),e("div",Zt,[a(d,{name:"i-material-symbols-directions-car",class:"bg-lwm-100 w-6 h-6"}),e("p",Et,o(s.$t("Booking.shuttleBusTime")),1)]),a(te,{locale:w(L)},{default:y(()=>[e("div",Jt,[a(Y,{direction:"vertical",size:12},{default:y(()=>[a(P,{value:c.value,"onUpdate:value":n[6]||(n[6]=v=>c.value=v),disabled:!0},null,8,["value"])]),_:1}),a(V,{value:T.value,"onUpdate:value":n[7]||(n[7]=v=>T.value=v),"minute-step":30,"value-format":"HH:mm",disabled:!0,format:"HH:mm"},null,8,["value"])])]),_:1},8,["locale"]),a(ge),e("div",Kt,[e("div",Xt,[e("p",el,o(s.$t("Booking.adultTicket")),1),e("div",tl,[e("button",{onClick:n[8]||(n[8]=v=>ne("adult"))},[a(d,{name:"i-mdi-minus-circle-outline"})]),e("p",ll,o(C.value.adult),1),e("button",{onClick:n[9]||(n[9]=v=>G("adult"))},[a(d,{name:"i-material-symbols-add-circle-outline"})])])])]),e("div",ol,[e("div",sl,[e("p",al,o(s.$t("Booking.childTicket")),1),e("div",nl,[e("button",{onClick:n[10]||(n[10]=v=>ne("child"))},[a(d,{name:"i-mdi-minus-circle-outline"})]),e("p",il,o(C.value.child),1),e("button",{onClick:n[11]||(n[11]=v=>G("child"))},[a(d,{name:"i-material-symbols-add-circle-outline"})])])])]),e("div",rl,[e("p",dl,o(s.$t("Booking.ticketPrice")),1),e("p",ul,"NT$ "+o(w(q))+o(s.$t("Booking.pricePerPerson")),1)]),e("div",cl,[e("p",pl,o(s.$t("Booking.contact")),1),R(e("input",{type:"text",placeholder:s.$t("Booking.required"),"onUpdate:modelValue":n[12]||(n[12]=v=>A.value=v),class:"flex-1 px-2 border-b-2 border-gray-600 bg-inherit focus:outline-none text-sm min-w-0"},null,8,ml),[[Q,A.value]])]),e("div",fl,[e("p",vl,o(s.$t("Booking.phone")),1),R(e("input",{type:"text",placeholder:s.$t("Booking.required"),"onUpdate:modelValue":n[13]||(n[13]=v=>$.value=v),class:"flex-1 px-2 border-b-2 border-gray-600 bg-inherit focus:outline-none text-sm min-w-0"},null,8,_l),[[Q,$.value]])])]),e("div",hl,[R(e("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":n[14]||(n[14]=v=>U.value=v),class:"h-5 w-3 border-black rounded-full"},null,512),[[Ce,U.value]]),e("label",gl,o(s.$t("HomePage.readAgreement")),1),a(be)]),e("div",bl,[a(ue,{type:"primary",onClick:$e,class:"w-2/3 rounded-lg !bg-lwm-400 text-white active:!bg-lime-700"},{default:y(()=>[Be(o(s.$t("HomePage.confirm")),1)]),_:1})])],64)}}}),xl={class:"flex-col p-4"},$l={class:"border-l-4 my-3 border-lwm-400 text-justify pl-2"},kl={class:"flex justify-around"},wl={class:"flex"},Hl={class:"flex-1 text-gray-500 ml-2"},Bl={class:"flex"},Tl={class:"flex-1 text-gray-500 ml-2"},Dl={class:"flex justify-evenly"},Pl={class:"ml-auto text-2xl"},Ml={class:"mr-auto text-2xl"},Ol={class:"flex flex-col pt-3 pl-4"},Cl={key:0,class:"flex pb-1"},Ul={class:"flex flex-col"},Rl={class:"flex"},Al={class:"text-lwm-500"},Sl={class:"border rounded-lg mr-2"},Yl=["placeholder"],jl={class:"flex flex-col"},Nl={class:"flex pr-4"},Vl={class:"text-lwm-500"},Il={class:"border rounded-lg"},Ll={disabled:"",value:""},zl={class:"flex"},ql={key:0,class:"text-lwm-500"},Wl={key:1,class:"text-lwm-500"},Gl={class:"flex pt-2 pl-4 space-x-4"},Fl={class:"flex flex-col py-2 pl-4"},Ql={class:"flex items-center"},Zl={class:"flex pr-4"},El={class:"text-lwm-500"},Jl={class:"flex pl-4"},Kl={class:"text-lwm-500"},Xl={class:"flex pt-2 pl-4 space-x-4"},eo={class:"border-l-4 my-3 border-orange-400 text-justify pl-2"},to={class:"flex justify-around"},lo={class:"flex"},oo={class:"flex-1 text-gray-500 ml-2"},so={class:"flex"},ao={class:"flex-1 text-gray-500 ml-2"},no={class:"flex justify-evenly"},io={class:"ml-auto text-2xl"},ro={class:"mr-auto text-2xl"},uo={class:"flex flex-col pt-3 pl-4"},co={key:0,class:"flex pb-1"},po={class:"flex flex-col"},mo={class:"flex"},fo={class:"text-lwm-500"},vo={class:"border rounded-lg mr-2"},_o=["placeholder"],ho={class:"flex flex-col"},go={class:"flex pr-4"},bo={class:"text-lwm-500"},yo={class:"border rounded-lg"},xo={disabled:"",value:""},$o={class:"flex"},ko={key:0,class:"text-lwm-500"},wo={key:1,class:"text-lwm-500"},Ho={class:"flex pt-2 pl-4 space-x-4"},Bo={class:"flex flex-col py-2 pl-4"},To={class:"flex items-center"},Do={class:"flex pr-4"},Po={class:"text-lwm-500"},Mo={class:"flex pl-4"},Oo={class:"text-lwm-500"},Co={class:"flex pt-2 pl-4 space-x-4"},Uo={class:"flex pl-6 pt-2 justify-evenly content-center"},Ro={class:"flex flex-1"},Ao={class:"flex-1"},So={class:"flex-1 flex"},Yo={class:"border border-gray-300 bg-gray-white w-fit px-4 mx-1 my-auto text-sm rounded-full"},jo={class:"flex pl-6 pt-2 justify-evenly content-center"},No={class:"flex flex-1"},Vo={class:"flex-1"},Io={class:"flex-1 flex"},Lo={class:"border border-gray-300 bg-gray-white w-fit px-4 mx-1 my-auto text-sm rounded-full"},zo={class:"flex pl-6 pt-3 justify-evenly content-center"},qo={class:"flex-1"},Wo={class:"flex-1"},Go={class:"flex py-4 px-6 content-center"},Fo={class:"flex-none pr-6"},Qo=["placeholder"],Zo={class:"flex py-4 px-6 content-center"},Eo={class:"flex-none pr-2"},Jo=["placeholder"],Ko={class:"flex justify-center"},Xo={for:"checkbox",class:"ml-2 text-sm text-gray-700"},es={class:"pt-1 flex justify-center pb-4"},ts=pe({__name:"RoundedWayTicket",setup(m){const x=r("roundTrip"),{t:b}=ae(),U=Me(),{locale:_}=ae(),c=r(!1),h=r(),T=r(),$=r(),O=r(),D=r(""),f=r(""),A=r(""),C=r(""),N=r(""),q=r(""),k=r(""),I=r(""),W=r(""),L=r(!1),H=r({adult:1,child:1}),me=r(""),fe=r(""),E=r(""),J=r(""),ve=ce(()=>{const t=H.value.adult;return Math.min(t,2)*300+Math.max(t-2,0)*200}),K=r({p2:b("Booking.pier"),p3:b("Booking.airport")}),X=r({p2:b("Booking.airport"),p3:b("Booking.pier")}),_e=()=>Array.from({length:24},(t,l)=>l).filter(t=>t<8||t>18),he=t=>t===8?Array.from({length:60},(l,i)=>i).filter(l=>l<30):t===18?Array.from({length:60},(l,i)=>i).filter(l=>l>=30):[],ee=()=>{const t=M(N.value,"HH:mm").hour();return Array.from({length:24},(l,i)=>i).filter(l=>l<t||l>18)},G=t=>{const l=M(N.value,"HH:mm").minute();return t===8?Array.from({length:60},(i,B)=>B).filter(i=>i<30):t===19?Array.from({length:60},(i,B)=>B).filter(i=>i>=1):Array.from({length:60},(i,B)=>B).filter(i=>i<l)},ne=t=>{t&&se.info(b("alertMessage"))},$e=t=>{t&&se.info(b("alertMessage2"))},ie=t=>{t&&se.info(b("alertMessage3"))};le(D,t=>{if(t){const l=M(t,"HH:mm").add(30,"minute"),i=M(t,"HH:mm").add(90,"minute");C.value=i.format("HH:mm"),N.value=i.format("HH:mm"),f.value=l.format("HH:mm")}else f.value="",N.value="",C.value=""}),le(I,t=>{if(t){const l=M(t,"HH:mm").add(30,"minute"),i=M(t,"HH:mm").add(90,"minute");k.value=i.format("HH:mm"),q.value=i.format("HH:mm"),W.value=l.format("HH:mm")}else W.value="",k.value="",q.value=""}),le($,t=>{t?O.value=t:O.value=void 0}),le(h,t=>{t?T.value=t:(T.value=void 0,D.value="")});const re=t=>{if(!ue.value)return!0;const l=t&&t.isBefore(M().add(1,"day").startOf("day")),i=ge.value.some(B=>{const j=M(B.startOffDays),S=B.endOffDays?M(B.endOffDays):j;return console.log("OffDay Range:",j.format("YYYY-MM-DD"),"to",S.format("YYYY-MM-DD")),t.isSameOrAfter(j,"day")&&t.isSameOrBefore(S,"day")});return l||i},de=t=>t&&(!h.value||t.isBefore(h.value)),De=t=>t&&(!h.value||t.isBefore(h.value)),s=()=>{c.value=!c.value},n={"zh-CN":Ye,"zh-TW":ye,"en-US":Ne},d=ce(()=>n[_.value]||ye),P=t=>{je.open({message:b("HomePage.notification.title"),description:b("HomePage.notification.description"),placement:t})},Y=t=>{H.value[t]++},V=t=>{H.value[t]>0&&H.value[t]--},te=async()=>{if(!L.value)P("bottom");else{let t=await xe();if((!t||!t.user_id)&&(alert(b("alertMessage13")),t=await xe(),!t)){console.log("登入失敗");return}const l={trip_type:x.value,LineID:t.user_id,adult_num:H.value.adult,child_num:H.value.child,contact_phone:J.value,totalprice:ve.value,contact_name:E.value,departure_loc:c.value?"Booking.airport":"Booking.pier",destination_loc:c.value?"Booking.pier":"Booking.airport",return_departure:c.value?"Booking.pier":"Booking.airport",return_destination:c.value?"Booking.airport":"Booking.pier",arrivalpoint_date:h.value?h.value.format("YYYY-MM-DD"):void 0,arrivalpoint_time:D.value,return_arrival_date:$.value?$.value.format("YYYY-MM-DD"):void 0,return_arrival_time:I.value,flight_num:A.value||void 0,ferry_time:N.value||void 0,flight_time:C.value||void 0,shuttle_date:T.value?T.value.format("YYYY-MM-DD"):void 0,shuttle_time:f.value,return_shuttle_date:O.value?O.value.format("YYYY-MM-DD"):void 0,return_shuttle_time:W.value};try{const i=await $fetch("/api/POSTbooking",{method:"POST",body:l});if(console.log(i),i!=null&&i.id){const B=i.id[0].id;console.log("id check2:"+B);const j=U("/confirmationPage/"+B);Ue({path:j,query:{isSwapped:String(c.value)}})}}catch{alert(b("alertMessage4"))}}},ge=r([]),be=r([]),ue=r(!1);return Oe(async()=>{if(!ue.value)try{const t=await $fetch("/api/GETallOffdays");be.value=t.data,ge.value=be.value.map(l=>({id:l.id,startOffDays:l.start_offDays,endOffDays:l.end_offDays,created_at:l.created_at,create_by:l.created_by})),ue.value=!0}catch{alert(b("alertMessage15"))}}),(t,l)=>{const i=He,B=Ve,j=Ie,S=Ae,z=Se,qe=Re,We=ze,Ge=Le;return p(),g("div",xl,[e("div",null,[e("p",$l,o(t.$t("Booking.outward")),1)]),e("div",kl,[e("div",wl,[a(i,{name:"i-material-symbols-directions-car",class:"bg-gray-500 w-6 h-6"}),e("p",Hl,o(t.$t("Booking.departure")),1)]),e("div",Bl,[a(i,{name:"i-mdi-map-marker-radius-outline",class:"bg-gray-500 w-6 h-6"}),e("p",Tl,o(t.$t("Booking.arrival")),1)])]),e("div",Dl,[e("p",Pl,o(c.value?X.value.p2:K.value.p2),1),a(i,{name:"fa6-solid:rotate",class:F(["mx-auto bg-lwm-400 w-7 h-7 cursor-pointer transition-transform duration-500",{"rotate-180":c.value}]),onClick:s},null,8,["class"]),e("p",Ml,o(c.value?X.value.p3:K.value.p3),1)]),l[25]||(l[25]=e("div",{class:"border-b-2 py-3"},null,-1)),e("div",Ol,[c.value?(p(),g("div",Cl,[e("div",Ul,[e("div",Rl,[a(i,{name:"lucide:tickets",class:"bg-lwm-50 w-6 h-6"}),e("p",Al,o(t.$t("Booking.flightNumber")),1)]),e("div",Sl,[R(e("input",{type:"text",placeholder:t.$t("Booking.required"),"onUpdate:modelValue":l[0]||(l[0]=u=>A.value=u),class:"px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},null,8,Yl),[[Q,A.value]])])]),e("div",jl,[e("div",Nl,[a(i,{name:"uil-plane-departure",class:"bg-lwm-50 w-6 h-6"}),e("p",Vl,o(t.$t("Booking.flightDeparture")),1)]),e("div",Il,[R(e("select",{"onUpdate:modelValue":l[1]||(l[1]=u=>me.value=u),class:"flex-1 px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},[e("option",Ll,o(t.$t("Booking.required")),1),l[23]||(l[23]=we('<option value="TSA">松山 (TSA)</option><option value="RMQ">台中 (RMQ)</option><option value="CYI">嘉義 (CYI)</option><option value="TNN">台南 (TNN)</option><option value="MZG">澎湖 (MZG)</option>',5))],512),[[ke,me.value]])])])])):Z("",!0),e("div",zl,[a(i,{name:c.value?"i-material-symbols-flight-land":"i-majesticons-ship-line",class:"bg-lwm-50 w-6 h-6"},null,8,["name"]),c.value?(p(),g("p",ql,o(t.$t("Booking.arrivalAtAirportTime")),1)):(p(),g("p",Wl,o(t.$t("Booking.arrivalPortTime")),1))])]),a(z,{locale:w(d)},{default:y(()=>[e("div",Gl,[a(j,{direction:"vertical",size:12},{default:y(()=>[a(B,{value:h.value,"onUpdate:value":l[2]||(l[2]=u=>h.value=u),"disabled-date":re,"show-today":!1,onOpenChange:$e,inputReadOnly:!0},null,8,["value"])]),_:1}),a(S,{value:D.value,"onUpdate:value":l[3]||(l[3]=u=>D.value=u),"value-format":"HH:mm","disabled-hours":_e,"disabled-minutes":he,"minute-step":c.value?5:30,"hour-step":1,"hide-disabled-options":!0,"show-now":!1,format:"HH:mm",disabled:!h.value,inputReadOnly:!0},null,8,["value","minute-step","disabled"])])]),_:1},8,["locale"]),e("div",Fl,[e("div",Ql,[e("div",Zl,[a(i,{name:"lucide:tickets",class:"bg-lwm-100 w-6 h-6"}),e("p",El,o(c.value?t.$t("Booking.ferryTime"):t.$t("Booking.flightTime")),1)]),e("div",null,[c.value?(p(),oe(z,{key:0,locale:w(d)},{default:y(()=>[a(S,{value:N.value,"onUpdate:value":l[4]||(l[4]=u=>N.value=u),"minute-step":30,"value-format":"HH:mm",format:"HH:mm","disabled-hours":ee,"disabled-minutes":G,"hide-disabled-options":!0,"show-now":!1,disabled:!D.value,onOpenChange:ne,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"])):(p(),oe(z,{key:1,locale:w(d)},{default:y(()=>[a(S,{value:C.value,"onUpdate:value":l[5]||(l[5]=u=>C.value=u),"minute-step":5,"value-format":"HH:mm",format:"HH:mm","disabled-hours":ee,"disabled-minutes":G,"hide-disabled-options":!0,"show-now":!1,disabled:!D.value,onOpenChange:ie,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"]))])])]),e("div",Jl,[a(i,{name:"i-material-symbols-directions-car",class:"bg-lwm-100 w-6 h-6"}),e("p",Kl,o(t.$t("Booking.shuttleBusTime")),1)]),a(z,{locale:w(d)},{default:y(()=>[e("div",Xl,[a(j,{direction:"vertical",size:12},{default:y(()=>[a(B,{value:T.value,"onUpdate:value":l[6]||(l[6]=u=>T.value=u),disabled:!0,"disabled-date":de},null,8,["value"])]),_:1}),a(S,{value:f.value,"onUpdate:value":l[7]||(l[7]=u=>f.value=u),"value-format":"HH:mm",disabled:!0,"minute-step":30,format:"HH:mm"},null,8,["value"])])]),_:1},8,["locale"]),l[26]||(l[26]=e("div",{class:"border-b-2 py-3 border-dashed border-gray-500"},null,-1)),e("p",eo,o(t.$t("Booking.return")),1),e("div",to,[e("div",lo,[a(i,{name:"i-material-symbols-directions-car",class:"bg-gray-500 w-6 h-6"}),e("p",oo,o(t.$t("Booking.departure")),1)]),e("div",so,[a(i,{name:"i-mdi-map-marker-radius-outline",class:"bg-gray-500 w-6 h-6"}),e("p",ao,o(t.$t("Booking.arrival")),1)])]),e("div",no,[e("p",io,o(c.value?K.value.p2:X.value.p2),1),a(i,{name:"fa6-solid:rotate",class:F(["mx-auto bg-lwm-400 w-7 h-7 cursor-pointer transition-transform duration-500",{"rotate-180":c.value}]),onClick:s},null,8,["class"]),e("p",ro,o(c.value?K.value.p3:X.value.p3),1)]),l[27]||(l[27]=e("div",{class:"border-b-2 py-3"},null,-1)),e("div",uo,[c.value?Z("",!0):(p(),g("div",co,[e("div",po,[e("div",mo,[a(i,{name:"lucide:tickets",class:"bg-lwm-50 w-6 h-6"}),e("p",fo,o(t.$t("Booking.flightNumber")),1)]),e("div",vo,[R(e("input",{type:"text",placeholder:t.$t("Booking.required"),"onUpdate:modelValue":l[8]||(l[8]=u=>A.value=u),class:"px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},null,8,_o),[[Q,A.value]])])]),e("div",ho,[e("div",go,[a(i,{name:"uil-plane-departure",class:"bg-lwm-50 w-6 h-6"}),e("p",bo,o(t.$t("Booking.flightDeparture")),1)]),e("div",yo,[R(e("select",{"onUpdate:modelValue":l[9]||(l[9]=u=>fe.value=u),class:"flex-1 px-2 py-1 w-full bg-white rounded-lg focus:outline-none text-sm"},[e("option",xo,o(t.$t("Booking.required")),1),l[24]||(l[24]=we('<option value="TSA">松山 (TSA)</option><option value="RMQ">台中 (RMQ)</option><option value="CYI">嘉義 (CYI)</option><option value="TNN">台南 (TNN)</option><option value="MZG">澎湖 (MZG)</option>',5))],512),[[ke,fe.value]])])])])),e("div",$o,[a(i,{name:c.value?"i-majesticons-ship-line":"i-material-symbols-flight-land",class:"bg-lwm-50 w-6 h-6"},null,8,["name"]),c.value?(p(),g("p",ko,o(t.$t("Booking.arrivalPortTime")),1)):(p(),g("p",wo,o(t.$t("Booking.arrivalAtAirportTime")),1))])]),a(z,{locale:w(d)},{default:y(()=>[e("div",Ho,[a(j,{direction:"vertical",size:12},{default:y(()=>[a(B,{value:$.value,"onUpdate:value":l[10]||(l[10]=u=>$.value=u),"disabled-date":re,"show-today":!1,inputReadOnly:!0},null,8,["value"])]),_:1}),a(S,{value:I.value,"onUpdate:value":l[11]||(l[11]=u=>I.value=u),"value-format":"HH:mm","disabled-hours":_e,"disabled-minutes":he,"minute-step":c.value?30:5,"hour-step":1,"hide-disabled-options":!0,"show-now":!1,format:"HH:mm",disabled:!$.value,inputReadOnly:!0},null,8,["value","minute-step","disabled"])])]),_:1},8,["locale"]),e("div",Bo,[e("div",To,[e("div",Do,[a(i,{name:"lucide:tickets",class:"bg-lwm-100 w-6 h-6"}),e("p",Po,o(c.value?t.$t("Booking.flightTime"):t.$t("Booking.ferryTime")),1)]),e("div",null,[c.value?(p(),oe(z,{key:0,locale:w(d)},{default:y(()=>[a(S,{value:q.value,"onUpdate:value":l[12]||(l[12]=u=>q.value=u),"minute-step":5,"value-format":"HH:mm",format:"HH:mm","disabled-hours":ee,"disabled-minutes":G,"hide-disabled-options":!0,"show-now":!1,disabled:!D.value,onOpenChange:ie,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"])):(p(),oe(z,{key:1,locale:w(d)},{default:y(()=>[a(S,{value:k.value,"onUpdate:value":l[13]||(l[13]=u=>k.value=u),"minute-step":30,"value-format":"HH:mm",format:"HH:mm","disabled-hours":ee,"disabled-minutes":G,"hide-disabled-options":!0,"show-now":!1,disabled:!I.value,onOpenChange:ne,inputReadOnly:!0},null,8,["value","disabled"])]),_:1},8,["locale"]))])])]),e("div",Mo,[a(i,{name:"i-material-symbols-directions-car",class:"bg-lwm-100 w-6 h-6"}),e("p",Oo,o(t.$t("Booking.shuttleBusTime")),1)]),a(z,{locale:w(d)},{default:y(()=>[e("div",Co,[a(j,{direction:"vertical",size:12},{default:y(()=>[a(B,{value:O.value,"onUpdate:value":l[14]||(l[14]=u=>O.value=u),disabled:!0,"disabled-date":De},null,8,["value"])]),_:1}),a(S,{value:W.value,"onUpdate:value":l[15]||(l[15]=u=>W.value=u),"value-format":"HH:mm",disabled:!0,"minute-step":30,format:"HH:mm"},null,8,["value"])])]),_:1},8,["locale"]),a(qe),e("div",Uo,[e("div",Ro,[e("p",Ao,o(t.$t("Booking.adultTicket")),1),e("div",So,[e("button",{onClick:l[16]||(l[16]=u=>V("adult"))},[a(i,{name:"i-mdi-minus-circle-outline"})]),e("p",Yo,o(H.value.adult),1),e("button",{onClick:l[17]||(l[17]=u=>Y("adult"))},[a(i,{name:"i-material-symbols-add-circle-outline"})])])])]),e("div",jo,[e("div",No,[e("p",Vo,o(t.$t("Booking.childTicket")),1),e("div",Io,[e("button",{onClick:l[18]||(l[18]=u=>V("child"))},[a(i,{name:"i-mdi-minus-circle-outline"})]),e("p",Lo,o(H.value.child),1),e("button",{onClick:l[19]||(l[19]=u=>Y("child"))},[a(i,{name:"i-material-symbols-add-circle-outline"})])])])]),e("div",zo,[e("p",qo,o(t.$t("Booking.ticketPrice")),1),e("p",Wo,"NT$ "+o(w(ve))+o(t.$t("Booking.pricePerPerson")),1)]),e("div",Go,[e("p",Fo,o(t.$t("Booking.contact")),1),R(e("input",{"onUpdate:modelValue":l[20]||(l[20]=u=>E.value=u),type:"text",placeholder:t.$t("Booking.required"),class:"flex-1 px-2 border-b-2 border-gray-600 bg-inherit focus:outline-none text-sm min-w-0"},null,8,Qo),[[Q,E.value]])]),e("div",Zo,[e("p",Eo,o(t.$t("Booking.phone")),1),R(e("input",{"onUpdate:modelValue":l[21]||(l[21]=u=>J.value=u),type:"text",placeholder:t.$t("Booking.required"),class:"flex-1 px-2 border-b-2 border-gray-600 bg-inherit focus:outline-none text-sm min-w-0"},null,8,Jo),[[Q,J.value]])]),e("div",Ko,[R(e("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":l[22]||(l[22]=u=>L.value=u),class:"h-5 w-3 border-black rounded-full"},null,512),[[Ce,L.value]]),e("label",Xo,o(t.$t("HomePage.readAgreement")),1),a(We)]),e("div",es,[a(Ge,{type:"primary",onClick:te,class:"w-2/3 rounded-lg !bg-lwm-400 text-white active:!bg-lime-700"},{default:y(()=>[Be(o(t.$t("HomePage.confirm")),1)]),_:1})])])}}}),ls={class:"flex flex-col pb-16"},os={class:"shadow mt-6 mx-10 rounded-lg bg-gray-50"},ss={class:"flex"},as={key:0},ns={key:1},vs=pe({__name:"index",setup(m){ae(),r(!1);const x=r(1),b=U=>{x.value=U};return(U,_)=>{const c=nt,h=yl,T=ts;return p(),g(Te,null,[a(c),e("div",ls,[e("div",os,[e("div",ss,[e("div",{onClick:_[1]||(_[1]=$=>b(1)),class:F([{"bg-lwm-100 rounded-tl-lg text-white":x.value===2},"flex-1 flex justify-center rounded-tl-lg transition-all duration-300 ease-in-out transform hover:scale-[1.01] active:scale-95 cursor-pointer"])},[e("button",{onClick:_[0]||(_[0]=$=>b(1)),class:F({" text-lwm-400 font-bold":x.value===1})},o(U.$t("HomePage.oneWay")),3)],2),e("div",{onClick:_[3]||(_[3]=$=>b(2)),class:F([{"bg-lwm-100 rounded-tr-lg text-white":x.value===1},"flex-1 flex justify-center rounded-tr-lg transition-all duration-300 ease-in-out transform hover:scale-[1.01] active:scale-95 cursor-pointer"])},[e("button",{onClick:_[2]||(_[2]=$=>b(2)),class:F({" text-lwm-400 font-bold":x.value===2})},o(U.$t("HomePage.roundTrip")),3)],2)]),x.value===1?(p(),g("div",as,[a(h)])):Z("",!0),x.value===2?(p(),g("div",ns,[a(T)])):Z("",!0)])])],64)}}});export{vs as default};

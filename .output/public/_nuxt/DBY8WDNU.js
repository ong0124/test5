import{_ as D}from"./D-D-K9Gl.js";import j from"./BtRyKcB8.js";import{_ as C}from"./DSEPkS4d.js";import{f as c}from"./BRs0bnII.js";import{d as A,n as N,m as P,a as H,r as I,p as y,o as z,b as i,c as d,e as t,f as r,t as s,F as _,g as f,k as n,h as x,i as u,I as L}from"./ByFj-TOV.js";const S={class:"py-4 border-b bg-[url('/assets/images/headerTest2.png')] bg-cover bg-center flex items-center"},V={class:"absolute left-1/2 transform -translate-x-1/2 text-xl capitalize text-white"},E={class:"pb-12"},F={class:"p-3 pt-4"},M=["onClick"],R={class:"bg-white rounded-md shadow-sm p-2 relative flex flex-col w-full border-l-4 border-l-orange-400"},W={class:"flex justify-between items-center ml-2"},q={class:"flex border-b-2 items-center border-lwm-400"},G={class:"flex justify-end space-x-2"},J={class:"flex items-center text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-md"},K={class:"flex items-center text-red-500 bg-red-50 px-2 py-1 rounded-md text-sm"},O={class:"text-md text-gray-700"},Q={class:"text-gray-500"},U={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},X={class:"w-32 truncate"},Y={class:"text-gray-800"},Z={class:"pl-2 font-semibold text-gray-900"},tt={class:"text-gray-500"},et={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},st={class:"w-32 truncate",title:"{{ $t('Booking.shuttleBusTime') }}"},ot={class:"text-gray-800"},at={class:"pl-2 font-semibold text-gray-700"},rt={key:1,class:"text-md text-gray-700"},lt={class:"text-gray-500 flex"},nt={class:"flex items-center px-2 mt-2 space-x-2"},it={class:"w-32 truncate"},dt={class:"text-gray-800"},ct={class:"pl-2 font-semibold text-gray-900"},mt={class:"text-gray-500"},pt={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},ut={class:"w-32 truncate",title:"{{ $t('Booking.shuttleBusTime') }}"},_t={class:"text-gray-800"},ht={class:"pl-2 font-semibold text-gray-700"},gt={class:"mt-2 ml-2 flex justify-between items-center"},yt={class:"text-md text-gray-700"},ft={class:"flex gap-2 mt-2"},xt={class:"flex items-center bg-orange-50 rounded-sm px-1 py-1 text-sm"},bt={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},vt={class:"flex items-center bg-amber-50 rounded-sm px-1 py-1 text-sm"},wt={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},kt={class:"p-3 pt-4 -mt-7"},Tt=["onClick"],Bt={class:"bg-white rounded-md shadow-sm p-2 relative flex flex-col w-full border-l-4 border-gray-300"},$t={class:"flex justify-between items-center ml-2"},Dt={class:"flex border-b-2 items-center border-gray-400"},jt={class:"flex justify-end space-x-2"},Ct={class:"flex items-center text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-md"},At={class:"flex items-center text-gray-500 bg-gray-100 px-2 py-1 rounded-md text-sm"},Nt={class:"text-md text-gray-700"},Pt={class:"text-gray-500"},Ht={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},It={class:"w-32 truncate"},zt={class:"text-gray-500"},Lt={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},St={class:"w-32 truncate",title:"{{ $t('Booking.shuttleBusTime') }}"},Vt={class:"text-gray-800"},Et={class:"pl-2 font-semibold text-gray-700"},Ft={key:1,class:"text-md text-gray-700"},Mt={class:"text-gray-500"},Rt={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},Wt={class:"w-32 truncate"},qt={class:"text-gray-500"},Gt={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},Jt={class:"w-32 truncate",title:"{{ $t('Booking.shuttleBusTime') }}"},Kt={class:"text-gray-800"},Ot={class:"pl-2 font-semibold text-gray-700"},Qt={class:"mt-2 ml-2 flex justify-between items-center"},Ut={class:"text-md text-gray-400"},Xt={class:"flex gap-2 mt-2"},Yt={class:"flex items-center bg-gray-50 rounded-sm px-1 py-1 text-sm"},Zt={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},te={class:"flex items-center bg-gray-50 rounded-sm px-1 py-1 text-sm"},ee={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},se={class:"flex text-gray-500 items-center justify-center text-sm"},de=A({__name:"[id]",setup(oe){const{t:m}=N(),b=P();H();const v=b.params.id,p=I([]),w=async()=>{try{const e=await $fetch(`/api/myTrip/${v}`);p.value=e.data,console.log("最終的 data.value:",p.value)}catch(e){console.error("Error fetching booking:",e),alert("Get blog detail error")}},k=y(()=>p.value.filter(e=>e.status==="notTraveled")),T=y(()=>p.value.filter(e=>e.status==="complete"));z(w);const h=e=>{console.log("Clicked booking ID:",e),L({path:"/myTrip/orderDetail",query:{bookingId:e}})};return(e,a)=>{const B=D,l=j,g=C;return i(),d(_,null,[t("header",S,[t("div",null,[r(B)]),t("h1",V,s(e.$t("footer.myTrip")),1)]),t("div",E,[t("div",F,[(i(!0),d(_,null,f(n(k),o=>(i(),d("div",{key:o.id,class:"mb-4 transition-all duration-300 ease-in-out transform hover:scale-[1.01] active:scale-95 cursor-pointer hover:shadow-md active:shadow-sm",onClick:$=>h(o.id)},[t("div",R,[a[1]||(a[1]=t("div",{class:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gray-100 rounded-full"},null,-1)),a[2]||(a[2]=t("div",{class:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gray-100 rounded-full"},null,-1)),t("div",W,[t("div",q,[r(l,{name:"zondicons:travel",class:"w-4 h-4 mr-1 text-lwm-400"}),t("p",null,s(n(m)(o.departure_loc)),1),r(l,{name:o.trip_type==="roundTrip"?"pepicons-pop:repeat":"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6 text-gray-600"},null,8,["name"]),t("p",null,s(n(m)(o.destination_loc)),1)]),t("div",G,[t("div",J,[t("span",null,s(o.trip_type==="roundTrip"?e.$t("HomePage.roundTrip"):e.$t("HomePage.oneWay")),1)]),t("p",K,s(e.$t("bookingStatus.notTraveled")),1)])]),t("div",O,[t("div",Q,[t("div",U,[r(l,{name:"i-majesticons-ship-line",class:"w-5 h-5 text-lwm-50"}),t("p",X,s(e.$t("Booking.arrivalPortTime")),1),t("p",Y,s(("formatDate"in e?e.formatDate:n(c))(o.arrivalpoint_date)),1),t("p",Z,s(o.arrivalpoint_time),1)])]),t("div",tt,[t("div",et,[r(l,{name:"mdi:bus-clock",class:"w-5 h-5 text-lwm-100"}),t("p",st,s(e.$t("Booking.shuttleBusTime")),1),t("p",ot,s(("formatDate"in e?e.formatDate:n(c))(o.shuttle_date)),1),t("p",at,s(o.shuttle_time),1)])])]),o.trip_type==="roundTrip"?(i(),x(g,{key:0})):u("",!0),o.trip_type==="roundTrip"?(i(),d("div",rt,[t("div",lt,[t("div",nt,[r(l,{name:"i-material-symbols-flight-land",class:"w-5 h-5 text-lwm-50"}),t("p",it,s(e.$t("Booking.arrivalAtAirportTime")),1),t("p",dt,s(("formatDate"in e?e.formatDate:n(c))(o.arrivalpoint_date)),1),t("p",ct,s(o.flight_time),1)])]),t("div",mt,[t("div",pt,[r(l,{name:"mdi:bus-clock",class:"w-5 h-5 text-lwm-100"}),t("p",ut,s(e.$t("Booking.shuttleBusTime")),1),t("p",_t,s(("formatDate"in e?e.formatDate:n(c))(o.return_shuttle_date)),1),t("p",ht,s(o.return_shuttle_time),1)])])])):u("",!0),t("div",gt,[t("div",null,[a[0]||(a[0]=t("span",{class:"font-semibold text-gray-700 text-md"},"NT$ ",-1)),t("span",yt,s(o.trip_type==="roundTrip"?o.adult_num*300:o.adult_num*150),1)]),t("div",ft,[t("div",xt,[r(l,{name:"mdi:account",class:"w-5 h-5 text-orange-500 mr-1"}),t("p",null,s(e.$t("Booking.adultTicket")),1),t("p",bt,s(o.adult_num),1)]),t("div",vt,[r(l,{name:"mdi:account-child",class:"w-5 h-5 text-amber-500 mr-1"}),t("p",null,s(e.$t("Booking.childTicket1")),1),t("p",wt,s(o.child_num),1)])])])])],8,M))),128))]),t("div",kt,[(i(!0),d(_,null,f(n(T),o=>(i(),d("div",{key:o.id,class:"mb-4 text-gray-600 transition-all duration-300 ease-in-out transform hover:scale-[1.01] active:scale-95 cursor-pointer hover:shadow-md active:shadow-sm",onClick:$=>h(o.id)},[t("div",Bt,[a[8]||(a[8]=t("div",{class:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gray-100 rounded-full"},null,-1)),a[9]||(a[9]=t("div",{class:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gray-100 rounded-full"},null,-1)),t("div",$t,[t("div",Dt,[r(l,{name:"zondicons:travel",class:"w-4 h-4 mr-1 text-gray-300"}),t("p",null,s(n(m)(o.departure_loc)),1),r(l,{name:o.trip_type==="roundTrip"?"pepicons-pop:repeat":"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6 text-gray-500"},null,8,["name"]),t("p",null,s(n(m)(o.destination_loc)),1)]),t("div",jt,[t("div",Ct,[t("span",null,s(o.trip_type==="roundTrip"?e.$t("HomePage.roundTrip"):e.$t("HomePage.oneWay")),1)]),t("p",At,s(e.$t("bookingStatus.complete")),1)])]),t("div",Nt,[t("div",Pt,[t("div",Ht,[r(l,{name:"i-material-symbols-flight-land",class:"w-5 h-5 text-gray-300"}),t("p",It,s(e.$t("Booking.arrivalAtAirportTime")),1),a[3]||(a[3]=t("p",{class:"text-gray-800"},"2025-03-13",-1)),a[4]||(a[4]=t("p",{class:"pl-2 font-semibold text-gray-900"},"12:30:00",-1))])]),t("div",zt,[t("div",Lt,[r(l,{name:"mdi:bus-clock",class:"w-5 h-5 text-gray-300"}),t("p",St,s(e.$t("Booking.shuttleBusTime")),1),t("p",Vt,s(("formatDate"in e?e.formatDate:n(c))(o.shuttle_date)),1),t("p",Et,s(o.shuttle_time),1)])])]),o.trip_type==="roundTrip"?(i(),x(g,{key:0})):u("",!0),o.trip_type==="roundTrip"?(i(),d("div",Ft,[t("div",Mt,[t("div",Rt,[r(l,{name:"i-material-symbols-flight-land",class:"w-5 h-5 text-gray-300"}),t("p",Wt,s(e.$t("Booking.arrivalAtAirportTime")),1),a[5]||(a[5]=t("p",{class:"text-gray-800"},null,-1)),a[6]||(a[6]=t("p",{class:"pl-2 font-semibold text-gray-900"},null,-1))])]),t("div",qt,[t("div",Gt,[r(l,{name:"mdi:bus-clock",class:"w-5 h-5 text-gray-300"}),t("p",Jt,s(e.$t("Booking.shuttleBusTime")),1),t("p",Kt,s(("formatDate"in e?e.formatDate:n(c))(o.return_shuttle_date)),1),t("p",Ot,s(o.return_shuttle_time),1)])])])):u("",!0),t("div",Qt,[t("div",null,[a[7]||(a[7]=t("span",{class:"font-semibold text-gray-400 text-md"},"NT$ ",-1)),t("span",Ut,s(o.trip_type==="roundTrip"?o.adult_num*300:o.adult_num*150),1)]),t("div",Xt,[t("div",Yt,[r(l,{name:"mdi:account",class:"w-5 h-5 text-gray-400 mr-1"}),t("p",null,s(e.$t("Booking.adultTicket")),1),t("p",Zt,s(o.adult_num),1)]),t("div",te,[r(l,{name:"mdi:account-child",class:"w-5 h-5 text-gray-400 mr-1"}),t("p",null,s(e.$t("Booking.childTicket1")),1),t("p",ee,s(o.child_num),1)])])])])],8,Tt))),128))]),t("p",se,"—— "+s(e.$t("noMoreData"))+" ——",1)])],64)}}});export{de as default};

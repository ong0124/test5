import{_ as v}from"./-eqhOtHv.js";import w from"./CA3PnHB6.js";import{d as D,m as $,n as k,q as P,p as i,o as I,b as c,c as _,e as t,f as d,t as s,k as n,i as X,w as B,j as N,F as j,_ as K}from"./BtgtZnnF.js";import{f as u}from"./CxLEVLiP.js";const L={class:"py-4 border-b bg-[url('/assets/images/headerTest3.png')] bg-cover bg-center flex items-center"},T={class:"absolute left-1/2 transform -translate-x-1/2 text-xl text-white font-bold capitalize"},V={class:"px-6 pt-4"},C={class:"bg-amber-50 py-4 px-2 rounded-t-xl relative overflow-hidden border-b border-gray-300"},F={class:"flex items-center justify-between"},R={class:"flex-1 text-gray-600 text-lg text-end pr-6"},q={class:"flex-2 text-center text-gray-600"},E={class:"border-b-2 border-dashed border-lwm-50 mx-2 pb-1 text-md font-medium"},S={class:"text-sm text-gray-600"},z={class:"flex-1 text-gray-600 text-lg text-start pl-6"},G={key:0,class:"bg-amber-50 py-4 px-2 relative overflow-hidden border-b border-gray-500"},M={class:"flex items-center justify-between"},O={class:"flex-1 text-gray-600 text-lg text-end pr-6"},A={class:"flex-2 text-center text-gray-600"},H={class:"border-b-2 border-dashed border-lwm-50 mx-2 pb-1 text-md font-medium"},J={class:"text-sm text-gray-600"},Q={class:"flex-1 text-gray-600 text-lg text-start pl-6"},U={class:"px-6"},W={class:"bg-white p-4 rounded-lg flex flex-col border-b-2 space-y-3 text-gray-500"},Y={class:"text-md space-y-1"},Z={class:"flex"},tt={class:"p-3 border border-lwm-50 rounded-xl space-y-2"},et={class:"font-bold"},st={class:"flex gap-4"},ot={class:"flex flex-col space-y-1"},nt={class:"flex flex-col space-y-1"},rt={class:"bg-yellow-200 text-center px-2 rounded-md w-fit"},lt={class:"p-3 border border-lwm-50 rounded-xl space-y-2"},at={class:"font-bold"},it={class:"flex gap-4"},dt={class:"flex flex-col space-y-1"},ct={class:"flex flex-col space-y-1"},_t={class:"bg-green-200 text-center px-2 rounded-md w-fit"},ut={class:"pt-2 text-lwm-50 font-semibold"},pt={class:"px-6 pb-4 text-gray-500"},mt={class:"bg-white p-4 rounded-lg flex flex-col space-y-2 text-sm"},ft={class:"flex"},ht={class:"mr-2"},gt={class:"text-green-700"},xt={class:"flex"},bt={class:"mr-2"},yt={class:"flex justify-end pt-1 px-2"},It=D({__name:"orderDetail",setup(vt){const p=$(),{t:l}=k(),r=P({trip_type:"",LineID:"",adult_num:"",child_num:"",contact_phone:"",totalprice:"",contact_name:"",departure_loc:"",destination_loc:"",return_departure:"",return_destination:"",arrivalpoint_date:"",arrivalpoint_time:"",flight_num:"",ferry_time:"",flight_time:"",shuttle_date:"",shuttle_time:"",return_shuttle_date:"",return_shuttle_time:""}),m=i(()=>l(r.departure_loc||"defaultKey")),f=i(()=>l(r.destination_loc||"defaultKey")),h=i(()=>l(r.return_departure||"defaultKey")),g=i(()=>l(r.return_destination||"defaultKey")),a=p.query.bookingId;return console.log("Received bookingId:",a),I(async()=>{try{const e=(await $fetch(`/api/FindBookingDetailById/${a}`)).data;Object.assign(r,{trip_type:e.trip_type,LineID:e.LineID,adult_num:e.adult_num,child_num:e.child_num,contact_phone:e.contact_phone,totalprice:e.totalprice,contact_name:e.contact_name,departure_loc:e.departure_loc,destination_loc:e.destination_loc,return_departure:e.return_departure,return_destination:e.return_destination,arrivalpoint_date:e.arrivalpoint_date,arrivalpoint_time:e.arrivalpoint_time,flight_num:e.flight_num,ferry_time:e.ferry_time,flight_time:e.flight_time,shuttle_date:e.shuttle_date,shuttle_time:e.shuttle_time,return_shuttle_date:e.return_shuttle_date,return_shuttle_time:e.return_shuttle_time}),console.log("form:",r)}catch(o){console.error("Error fetching booking:",o),alert("Get blog detail error")}}),(o,e)=>{const x=v,b=w,y=K;return c(),_(j,null,[t("header",L,[t("div",null,[d(x)]),t("h1",T,s(o.$t("orderDetail.title")),1)]),t("div",V,[t("div",C,[e[0]||(e[0]=t("div",{class:"absolute top-2/2 left-2 -translate-y-1/2 w-4 h-4 bg-gray-200 rounded-full"},null,-1)),e[1]||(e[1]=t("div",{class:"absolute top-2/2 right-2 -translate-y-1/2 w-4 h-4 bg-gray-200 rounded-full"},null,-1)),t("div",F,[t("div",R,[t("p",null,s(n(m)),1)]),t("div",q,[t("div",E,[t("p",null,s(("formatDate"in o?o.formatDate:n(u))(n(r).shuttle_date)),1)]),t("div",S,[t("p",null,s(n(r).shuttle_time),1)])]),t("div",z,[t("p",null,s(n(f)),1)])])]),n(r).trip_type==="roundTrip"?(c(),_("div",G,[t("div",M,[t("div",O,[t("p",null,s(n(h)),1)]),t("div",A,[t("div",H,[t("p",null,s(("formatDate"in o?o.formatDate:n(u))(n(r).return_shuttle_date)),1)]),t("div",J,[t("p",null,s(n(r).shuttle_time),1)])]),t("div",Q,[t("p",null,s(n(g)),1)])])])):X("",!0)]),t("div",U,[t("div",W,[t("div",Y,[t("p",Z,s(o.$t("Booking.contact"))+": "+s(n(r).contact_name),1),t("p",null,s(o.$t("Booking.phone"))+": "+s(n(r).contact_phone),1)]),t("div",tt,[t("p",et,s(o.$t("PassengerPage.passengers1")),1),t("div",st,[t("div",ot,[t("p",null,s(o.$t("orderDetail.name")),1),t("p",null,s(o.$t("orderDetail.nationality")),1),t("p",null,s(o.$t("PassengerPage.IdNumber")),1)]),t("div",nt,[e[2]||(e[2]=t("p",null,"X先生",-1)),t("p",rt,s(o.$t("PassengerPage.non-Local")),1),e[3]||(e[3]=t("p",null,"6786XXXXX",-1))])])]),t("div",lt,[t("p",at,s(o.$t("PassengerPage.passengers2")),1),t("div",it,[t("div",dt,[t("p",null,s(o.$t("orderDetail.name")),1),t("p",null,s(o.$t("orderDetail.nationality")),1),t("p",null,s(o.$t("PassengerPage.IdNumber")),1)]),t("div",ct,[e[4]||(e[4]=t("p",null,"X先生",-1)),t("p",_t,s(o.$t("PassengerPage.local")),1),e[5]||(e[5]=t("p",null,"6786XXXXX",-1))])])]),t("div",ut,[t("p",null,s(o.$t("orderDetail.status"))+": "+s(o.$t("orderDetail.ticketIssued")),1)])])]),t("div",pt,[t("div",mt,[t("p",null,s(o.$t("orderDetail.orderNumber"))+" : "+s(n(a)),1),t("div",ft,[t("p",ht,s(o.$t("orderDetail.orderStatus"))+" : ",1),t("p",gt,s(o.$t("orderDetail.paid")),1)]),t("div",xt,[t("p",bt,s(o.$t("orderDetail.orderDate"))+" : ",1),t("p",null,s(o.$t("confirmationPage.dateTime")),1)]),t("div",yt,[d(y,{to:`/refund/${n(a)}`,class:"flex items-center gap-2 text-md border border-lwm-50 text-lwm-50 rounded-full px-4 py-1 hover:bg-lwm-50 hover:text-white transition"},{default:B(()=>[N(s(o.$t("applyRefund"))+" ",1),d(b,{name:"mingcute:right-fill",class:"h-5 w-5"})]),_:1},8,["to"])])])])],64)}}});export{It as default};

import{_ as P}from"./BiOWLR4l.js";import T from"./CHcm3yoE.js";import{_ as B}from"./DmPeUtKN.js";import{f as N,u as D,g as j,h as I,i as l,j as K,k as V,o as p,c as h,a as t,b as r,t as e,l as i,m as Y,e as f,w as C,d as L}from"./FGqHIyQb.js";import{d as M}from"./D8ZMcQSb.js";const O={class:"h-screen bg-gray-200"},S={class:"flex items-center py-4 bg-lwm-50"},z={class:"absolute left-1/2 transform -translate-x-1/2 text-lg capitalize text-white"},E={class:"m-3 pt-4 pb-8 rounded-lg bg-white"},q={class:"px-4"},A={class:"px-2"},G={class:"border-l-4 border-orange-400 pl-2"},R={class:"my-2"},F={class:"flex justify-between"},H={class:"flex"},J={key:0},Q={class:"p-2"},U={class:"border-l-4 border-orange-400 pl-2"},W={class:"my-2"},X={class:"flex justify-between"},Z={class:"flex"},tt={class:"px-2"},et={class:"flex py-2"},ot={class:"border-l-4 border-orange-400 pl-2 flex-1"},st={href:"#",class:"text-sm text-gray-600 ml-1"},nt={class:"flex"},it={class:"flex-1"},rt={class:"flex"},at={class:"flex-1"},lt={class:"px-6 py-2 text-gray-700 leading-relaxed"},_t={class:"flex items-center"},dt={class:"text-md font-semibold"},ct={class:"text-sm"},ut={class:"border-t bg-white fixed inset-x-0 bottom-1 py-2 px-4 z-10 border-b border-b-gray-200"},mt={class:"flex items-center justify-between max-w-screen-lg mx-auto"},pt={class:"flex items-center"},ht={class:"mr-2"},ft={class:"text-red-500 text-lg"},kt=N({__name:"[id]",setup(gt){const g=D(),d=j(),{t:a}=I(),y=d.params.id,c=s=>s?M(s).format("YYYY-MM-DD"):"N/A",_=l(()=>d.query.isSwapped==="true"),n=K({trip_type:"",user_id:"",adult_num:"",child_num:"",contact_phone:"",totalprice:"",contact_name:"",departure_loc:"",destination_loc:"",return_departure:"",return_destination:"",arrivalpoint_date:"",arrivalpoint_time:"",flight_num:"",ferry_time:"",flight_time:"",shuttle_date:"",shuttle_time:"",return_shuttle_date:"",return_shuttle_time:""}),v=l(()=>a(n.departure_loc||"defaultKey")),b=l(()=>a(n.destination_loc||"defaultKey")),x=l(()=>a(n.return_departure||"defaultKey")),$=l(()=>a(n.return_destination||"defaultKey"));return V(async()=>{try{const o=(await $fetch(`/api/confirmationPage/${y}`)).data;Object.assign(n,{trip_type:o.trip_type,user_id:o.user_id,adult_num:o.adult_num,child_num:o.child_num,contact_phone:o.contact_phone,totalprice:o.totalprice,contact_name:o.contact_name,departure_loc:o.departure_loc,destination_loc:o.destination_loc,return_departure:o.return_departure,return_destination:o.return_destination,arrivalpoint_date:o.arrivalpoint_date,arrivalpoint_time:o.arrivalpoint_time,flight_num:o.flight_num,ferry_time:o.ferry_time,flight_time:o.flight_time,shuttle_date:o.shuttle_date,shuttle_time:o.shuttle_time,return_shuttle_date:o.return_shuttle_date,return_shuttle_time:o.return_shuttle_time}),console.log("form:",n)}catch(s){console.error("Error fetching booking:",s),alert("Get blog detail error")}}),(s,o)=>{const w=P,u=T,m=B,k=L;return p(),h("div",O,[t("div",null,[t("header",S,[r(w),t("h1",z,e(s.$t("confirmationPage.title")),1)]),t("div",E,[t("div",q,[t("div",A,[t("p",G,e(i(a)("confirmationPage.tripInfo")),1),t("p",R,e(c(i(n).shuttle_date))+" "+e(i(n).shuttle_time),1),t("div",F,[t("div",H,[t("p",null,e(v.value),1),r(u,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,e(b.value),1)]),t("div",null,[t("p",null,e(_.value?s.$t("Booking.ferryTime"):s.$t("Booking.flightTime"))+" : "+e(_.value?i(n).ferry_time:i(n).flight_time),1)])])]),r(m),i(n).trip_type==="roundTrip"?(p(),h("div",J,[t("div",Q,[t("p",U,e(s.$t("confirmationPage.returnTripInfo")),1),t("p",W,e(c(i(n).return_shuttle_date))+" "+e(i(n).return_shuttle_time),1),t("div",X,[t("div",Z,[t("p",null,e(x.value),1),r(u,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,e($.value),1)]),t("div",null,[t("p",null,e(_.value?s.$t("Booking.flightTime"):s.$t("Booking.ferryTime"))+" : "+e(_.value?i(n).flight_time:i(n).ferry_time),1)])])]),r(m)])):Y("",!0),t("div",tt,[t("p",null,e(i(n).contact_phone),1),t("p",null,e(i(n).contact_name),1),t("div",et,[t("p",ot,e(s.$t("confirmationPage.OrderTotal")),1),t("a",st,e(s.$t("confirmationPage.refundPolicy")),1)]),t("div",nt,[t("p",it,e(s.$t("confirmationPage.adultTicket"))+" "+e(i(n).adult_num),1),t("p",null,"NT$   "+e(i(n).totalprice),1)]),t("div",rt,[t("p",at,e(s.$t("confirmationPage.infantTicket"))+" "+e(i(n).child_num),1),o[0]||(o[0]=t("p",null,"NT$  0.00",-1))])])])]),t("div",lt,[t("div",_t,[o[1]||(o[1]=t("span",{class:"text-lwm-50 text-2xl"},"*",-1)),o[2]||(o[2]=f("  ")),t("p",dt,e(s.$t("reminder.notice")),1)]),t("div",ct,[t("p",null,e(s.$t("reminder.tips1")),1),t("p",null,e(s.$t("reminder.tips2")),1),t("p",null,e(s.$t("reminder.tips3")),1),t("p",null,e(s.$t("reminder.tips4")),1),t("p",null,e(s.$t("reminder.tips5")),1)])]),t("footer",ut,[t("div",mt,[t("div",pt,[t("p",ht,e(s.$t("confirmationPage.total")),1),t("p",ft,"NT$  "+e(i(n).totalprice),1)]),r(k,{to:i(g)("/payment"),class:"bg-green-500 text-white rounded-lg px-6 py-1 hover:bg-green-600 transition"},{default:C(()=>[f(e(s.$t("confirmationPage.submitOrder")),1)]),_:1},8,["to"])])])])])}}});export{kt as default};

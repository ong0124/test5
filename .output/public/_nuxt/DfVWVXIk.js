import{_ as D}from"./Bon7B6vR.js";import T from"./DNGEP7cD.js";import{_ as I}from"./CNewERh1.js";import{d as P,l as B,m as L,n as N,p as l,q as j,o as K,b as p,c as h,e as t,f as a,t as e,k as i,i as V,j as f,w as q,_ as C}from"./DlSmGz5j.js";import{f as g}from"./BUDF63Pn.js";const O={class:"h-screen bg-gray-200"},S={class:"flex items-center py-4 bg-lwm-50"},z={class:"absolute left-1/2 transform -translate-x-1/2 text-lg capitalize text-white"},E={class:"m-3 pt-4 pb-8 rounded-lg bg-white"},F={class:"px-4"},G={class:"px-2"},M={class:"border-l-4 border-orange-400 pl-2"},R={class:"my-2"},A={class:"flex justify-between"},H={class:"flex"},J={key:0},Q={class:"p-2"},U={class:"border-l-4 border-orange-400 pl-2"},W={class:"my-2"},X={class:"flex justify-between"},Y={class:"flex"},Z={class:"px-2"},tt={class:"flex py-2"},et={class:"border-l-4 border-orange-400 pl-2 flex-1"},ot={href:"#",class:"text-sm text-gray-600 ml-1"},nt={class:"flex"},st={class:"flex-1"},it={class:"flex"},at={class:"flex-1"},rt={class:"px-6 py-2 text-gray-700 leading-relaxed"},lt={class:"flex items-center"},_t={class:"text-md font-semibold"},dt={class:"text-sm"},ct={class:"border-t bg-white fixed inset-x-0 bottom-1 py-2 px-4 z-10 border-b border-b-gray-200"},ut={class:"flex items-center justify-between max-w-screen-lg mx-auto"},mt={class:"flex items-center"},pt={class:"mr-2"},ht={class:"text-red-500 text-lg"},wt=P({__name:"[id]",setup(ft){const y=B(),d=L(),{t:r}=N(),c=d.params.id,_=l(()=>d.query.isSwapped==="true"),s=j({trip_type:"",LineID:"",adult_num:"",child_num:"",contact_phone:"",totalprice:"",contact_name:"",departure_loc:"",destination_loc:"",return_departure:"",return_destination:"",arrivalpoint_date:"",arrivalpoint_time:"",flight_num:"",ferry_time:"",flight_time:"",shuttle_date:"",shuttle_time:"",return_shuttle_date:"",return_shuttle_time:""}),v=l(()=>r(s.departure_loc||"defaultKey")),b=l(()=>r(s.destination_loc||"defaultKey")),x=l(()=>r(s.return_departure||"defaultKey")),$=l(()=>r(s.return_destination||"defaultKey"));return K(async()=>{try{const o=(await $fetch(`/api/FindBookingDetailById/${c}`)).data;Object.assign(s,{trip_type:o.trip_type,LineID:o.LineID,adult_num:o.adult_num,child_num:o.child_num,contact_phone:o.contact_phone,totalprice:o.totalprice,contact_name:o.contact_name,departure_loc:o.departure_loc,destination_loc:o.destination_loc,return_departure:o.return_departure,return_destination:o.return_destination,arrivalpoint_date:o.arrivalpoint_date,arrivalpoint_time:o.arrivalpoint_time,flight_num:o.flight_num,ferry_time:o.ferry_time,flight_time:o.flight_time,shuttle_date:o.shuttle_date,shuttle_time:o.shuttle_time,return_shuttle_date:o.return_shuttle_date,return_shuttle_time:o.return_shuttle_time}),console.log("form:",s)}catch(n){console.error("Error fetching booking:",n),alert("Get blog detail error")}}),(n,o)=>{const w=D,u=T,m=I,k=C;return p(),h("div",O,[t("div",null,[t("header",S,[a(w),t("h1",z,e(n.$t("confirmationPage.title")),1)]),t("div",E,[t("div",F,[t("div",G,[t("p",M,e(i(r)("confirmationPage.tripInfo")),1),t("p",R,e(("formatDate"in n?n.formatDate:i(g))(i(s).shuttle_date))+" "+e(i(s).shuttle_time),1),t("div",A,[t("div",H,[t("p",null,e(v.value),1),a(u,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,e(b.value),1)]),t("div",null,[t("p",null,e(_.value?n.$t("Booking.ferryTime"):n.$t("Booking.flightTime"))+" : "+e(_.value?i(s).ferry_time:i(s).flight_time),1)])])]),a(m),i(s).trip_type==="roundTrip"?(p(),h("div",J,[t("div",Q,[t("p",U,e(n.$t("confirmationPage.returnTripInfo")),1),t("p",W,e(("formatDate"in n?n.formatDate:i(g))(i(s).return_shuttle_date))+" "+e(i(s).return_shuttle_time),1),t("div",X,[t("div",Y,[t("p",null,e(x.value),1),a(u,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,e($.value),1)]),t("div",null,[t("p",null,e(_.value?n.$t("Booking.flightTime"):n.$t("Booking.ferryTime"))+" : "+e(_.value?i(s).flight_time:i(s).ferry_time),1)])])]),a(m)])):V("",!0),t("div",Z,[t("p",null,e(i(s).contact_phone),1),t("p",null,e(i(s).contact_name),1),t("div",tt,[t("p",et,e(n.$t("confirmationPage.OrderTotal")),1),t("a",ot,e(n.$t("confirmationPage.refundPolicy")),1)]),t("div",nt,[t("p",st,e(n.$t("confirmationPage.adultTicket"))+" "+e(i(s).adult_num),1),t("p",null,"NT$   "+e(i(s).totalprice),1)]),t("div",it,[t("p",at,e(n.$t("confirmationPage.infantTicket"))+" "+e(i(s).child_num),1),o[0]||(o[0]=t("p",null,"NT$  0.00",-1))])])])]),t("div",rt,[t("div",lt,[o[1]||(o[1]=t("span",{class:"text-lwm-50 text-2xl"},"*",-1)),o[2]||(o[2]=f("  ")),t("p",_t,e(n.$t("reminder.notice")),1)]),t("div",dt,[t("p",null,e(n.$t("reminder.tips1")),1),t("p",null,e(n.$t("reminder.tips2")),1),t("p",null,e(n.$t("reminder.tips3")),1),t("p",null,e(n.$t("reminder.tips4")),1),t("p",null,e(n.$t("reminder.tips5")),1)])]),t("footer",ct,[t("div",ut,[t("div",mt,[t("p",pt,e(n.$t("confirmationPage.total")),1),t("p",ht,"NT$  "+e(i(s).totalprice),1)]),a(k,{to:{path:i(y)("/payment"),query:{bookingId:i(c),LineID:i(s).LineID,totalprice:i(s).totalprice}},class:"bg-green-500 text-white rounded-lg px-6 py-1 hover:bg-green-600 transition"},{default:q(()=>[f(e(n.$t("confirmationPage.submitOrder")),1)]),_:1},8,["to"])])])])])}}});export{wt as default};

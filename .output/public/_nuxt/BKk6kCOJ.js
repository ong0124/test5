import{_ as D}from"./CtlbZ81J.js";import C from"./Dk4xfWin.js";import{_ as j}from"./WcrYQc2e.js";import{f as u}from"./m3lpENkO.js";import{d as A,l as N,k as P,a as H,r as z,m as y,o as I,b as i,c as d,e as t,f as r,t as e,F as _,g as f,p as n,C as x,q as p,G as L}from"./BO1_oqTe.js";const S={class:"py-4 border-b bg-[url('/assets/images/headerTest2.png')] bg-cover bg-center flex items-center"},V={class:"absolute left-1/2 transform -translate-x-1/2 text-xl capitalize text-white"},q={class:"pb-12"},E={class:"p-3 pt-4"},F=["onClick"],G={class:"bg-white rounded-md shadow-sm p-2 relative flex flex-col w-full border-l-4 border-l-orange-400"},M={class:"flex justify-between items-center ml-2"},R={class:"flex border-b-2 items-center border-lwm-400"},W={class:"flex justify-end space-x-2"},J={class:"flex items-center text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-md"},K={class:"flex items-center text-red-500 bg-red-50 px-2 py-1 rounded-md text-sm"},O={class:"text-md text-gray-700"},Q={class:"text-gray-500"},U={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},X={class:"w-32 truncate"},Y={class:"text-gray-500"},Z={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},tt={class:"w-32 truncate",title:"{{ $t('Booking.shuttleBusTime') }}"},st={class:"text-gray-800"},et={class:"pl-2 font-semibold text-gray-700"},ot={key:1,class:"text-md text-gray-700"},at={class:"text-gray-500"},rt={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},lt={class:"w-32 truncate"},nt={class:"text-gray-500"},it={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},dt={class:"w-32 truncate",title:"{{ $t('Booking.shuttleBusTime') }}"},mt={class:"text-gray-800"},ct={class:"pl-2 font-semibold text-gray-700"},ut={class:"mt-2 ml-2 flex justify-between items-center"},pt={class:"text-md text-gray-700"},_t={class:"flex gap-2 mt-2"},gt={class:"flex items-center bg-orange-50 rounded-sm px-1 py-1 text-sm"},ht={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},yt={class:"flex items-center bg-amber-50 rounded-sm px-1 py-1 text-sm"},ft={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},xt={class:"p-3 pt-4 -mt-7"},bt=["onClick"],vt={class:"bg-white rounded-md shadow-sm p-2 relative flex flex-col w-full border-l-4 border-gray-300"},wt={class:"flex justify-between items-center ml-2"},kt={class:"flex border-b-2 items-center border-gray-400"},Tt={class:"flex justify-end space-x-2"},Bt={class:"flex items-center text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-md"},$t={class:"flex items-center text-gray-500 bg-gray-100 px-2 py-1 rounded-md text-sm"},Dt={class:"text-md text-gray-700"},Ct={class:"text-gray-500"},jt={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},At={class:"w-32 truncate"},Nt={class:"text-gray-500"},Pt={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},Ht={class:"w-32 truncate",title:"{{ $t('Booking.shuttleBusTime') }}"},zt={class:"text-gray-800"},It={class:"pl-2 font-semibold text-gray-700"},Lt={key:1,class:"text-md text-gray-700"},St={class:"text-gray-500"},Vt={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},qt={class:"w-32 truncate"},Et={class:"text-gray-500"},Ft={class:"flex items-center px-2 rounded-md mt-2 space-x-2"},Gt={class:"w-32 truncate",title:"{{ $t('Booking.shuttleBusTime') }}"},Mt={class:"text-gray-800"},Rt={class:"pl-2 font-semibold text-gray-700"},Wt={class:"mt-2 ml-2 flex justify-between items-center"},Jt={class:"text-md text-gray-400"},Kt={class:"flex gap-2 mt-2"},Ot={class:"flex items-center bg-gray-50 rounded-sm px-1 py-1 text-sm"},Qt={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},Ut={class:"flex items-center bg-gray-50 rounded-sm px-1 py-1 text-sm"},Xt={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},Yt={class:"flex text-gray-500 items-center justify-center text-sm"},rs=A({__name:"[id]",setup(Zt){const{t:m}=N(),b=P();H();const v=b.params.id,c=z([]),w=async()=>{try{const s=await $fetch(`/api/myTrip/${v}`);c.value=s.data,console.log("最終的 data.value:",c.value)}catch(s){console.error("Error fetching booking:",s),alert("Get blog detail error")}},k=y(()=>c.value.filter(s=>s.status==="notTraveled")),T=y(()=>c.value.filter(s=>s.status==="complete"));I(w);const g=s=>{console.log("Clicked booking ID:",s),L({path:"/myTrip/orderDetail",query:{bookingId:s}})};return(s,a)=>{const B=D,l=C,h=j;return i(),d(_,null,[t("header",S,[t("div",null,[r(B)]),t("h1",V,e(s.$t("footer.myTrip")),1)]),t("div",q,[t("div",E,[(i(!0),d(_,null,f(n(k),o=>(i(),d("div",{key:o.id,class:"mb-4 transition-all duration-300 ease-in-out transform hover:scale-[1.01] active:scale-95 cursor-pointer hover:shadow-md active:shadow-sm",onClick:$=>g(o.id)},[t("div",G,[a[5]||(a[5]=t("div",{class:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gray-100 rounded-full"},null,-1)),a[6]||(a[6]=t("div",{class:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gray-100 rounded-full"},null,-1)),t("div",M,[t("div",R,[r(l,{name:"zondicons:travel",class:"w-4 h-4 mr-1 text-lwm-400"}),t("p",null,e(n(m)(o.departure_loc)),1),r(l,{name:o.trip_type==="roundTrip"?"pepicons-pop:repeat":"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6 text-gray-600"},null,8,["name"]),t("p",null,e(n(m)(o.destination_loc)),1)]),t("div",W,[t("div",J,[t("span",null,e(o.trip_type==="roundTrip"?s.$t("HomePage.roundTrip"):s.$t("HomePage.oneWay")),1)]),t("p",K,e(s.$t("bookingStatus.notTraveled")),1)])]),t("div",O,[t("div",Q,[t("div",U,[r(l,{name:"i-majesticons-ship-line",class:"w-5 h-5 text-lwm-50"}),t("p",X,e(s.$t("Booking.arrivalPortTime")),1),a[0]||(a[0]=t("p",{class:"text-gray-800"},"2025-03-10",-1)),a[1]||(a[1]=t("p",{class:"pl-2 font-semibold text-gray-900"},"09:30:00",-1))])]),t("div",Y,[t("div",Z,[r(l,{name:"mdi:bus-clock",class:"w-5 h-5 text-lwm-100"}),t("p",tt,e(s.$t("Booking.shuttleBusTime")),1),t("p",st,e(("formatDate"in s?s.formatDate:n(u))(o.shuttle_date)),1),t("p",et,e(o.shuttle_time),1)])])]),o.trip_type==="roundTrip"?(i(),x(h,{key:0})):p("",!0),o.trip_type==="roundTrip"?(i(),d("div",ot,[t("div",at,[t("div",rt,[r(l,{name:"i-material-symbols-flight-land",class:"w-5 h-5 text-lwm-50"}),t("p",lt,e(s.$t("Booking.arrivalAtAirportTime")),1),a[2]||(a[2]=t("p",{class:"text-gray-800"},"2025-03-15",-1)),a[3]||(a[3]=t("p",{class:"pl-2 font-semibold text-gray-900"},"17:30:00",-1))])]),t("div",nt,[t("div",it,[r(l,{name:"mdi:bus-clock",class:"w-5 h-5 text-lwm-100"}),t("p",dt,e(s.$t("Booking.shuttleBusTime")),1),t("p",mt,e(("formatDate"in s?s.formatDate:n(u))(o.return_shuttle_date)),1),t("p",ct,e(o.return_shuttle_time),1)])])])):p("",!0),t("div",ut,[t("div",null,[a[4]||(a[4]=t("span",{class:"font-semibold text-gray-700 text-md"},"NT$ ",-1)),t("span",pt,e(o.trip_type==="roundTrip"?o.adult_num*300:o.adult_num*150),1)]),t("div",_t,[t("div",gt,[r(l,{name:"mdi:account",class:"w-5 h-5 text-orange-500 mr-1"}),t("p",null,e(s.$t("Booking.adultTicket")),1),t("p",ht,e(o.adult_num),1)]),t("div",yt,[r(l,{name:"mdi:account-child",class:"w-5 h-5 text-amber-500 mr-1"}),t("p",null,e(s.$t("Booking.childTicket1")),1),t("p",ft,e(o.child_num),1)])])])])],8,F))),128))]),t("div",xt,[(i(!0),d(_,null,f(n(T),o=>(i(),d("div",{key:o.id,class:"mb-4 text-gray-600 transition-all duration-300 ease-in-out transform hover:scale-[1.01] active:scale-95 cursor-pointer hover:shadow-md active:shadow-sm",onClick:$=>g(o.id)},[t("div",vt,[a[12]||(a[12]=t("div",{class:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gray-100 rounded-full"},null,-1)),a[13]||(a[13]=t("div",{class:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gray-100 rounded-full"},null,-1)),t("div",wt,[t("div",kt,[r(l,{name:"zondicons:travel",class:"w-4 h-4 mr-1 text-gray-300"}),t("p",null,e(n(m)(o.departure_loc)),1),r(l,{name:o.trip_type==="roundTrip"?"pepicons-pop:repeat":"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6 text-gray-500"},null,8,["name"]),t("p",null,e(n(m)(o.destination_loc)),1)]),t("div",Tt,[t("div",Bt,[t("span",null,e(o.trip_type==="roundTrip"?s.$t("HomePage.roundTrip"):s.$t("HomePage.oneWay")),1)]),t("p",$t,e(s.$t("bookingStatus.complete")),1)])]),t("div",Dt,[t("div",Ct,[t("div",jt,[r(l,{name:"i-material-symbols-flight-land",class:"w-5 h-5 text-gray-300"}),t("p",At,e(s.$t("Booking.arrivalAtAirportTime")),1),a[7]||(a[7]=t("p",{class:"text-gray-800"},"2025-03-13",-1)),a[8]||(a[8]=t("p",{class:"pl-2 font-semibold text-gray-900"},"12:30:00",-1))])]),t("div",Nt,[t("div",Pt,[r(l,{name:"mdi:bus-clock",class:"w-5 h-5 text-gray-300"}),t("p",Ht,e(s.$t("Booking.shuttleBusTime")),1),t("p",zt,e(("formatDate"in s?s.formatDate:n(u))(o.shuttle_date)),1),t("p",It,e(o.shuttle_time),1)])])]),o.trip_type==="roundTrip"?(i(),x(h,{key:0})):p("",!0),o.trip_type==="roundTrip"?(i(),d("div",Lt,[t("div",St,[t("div",Vt,[r(l,{name:"i-material-symbols-flight-land",class:"w-5 h-5 text-gray-300"}),t("p",qt,e(s.$t("Booking.arrivalAtAirportTime")),1),a[9]||(a[9]=t("p",{class:"text-gray-800"},null,-1)),a[10]||(a[10]=t("p",{class:"pl-2 font-semibold text-gray-900"},null,-1))])]),t("div",Et,[t("div",Ft,[r(l,{name:"mdi:bus-clock",class:"w-5 h-5 text-gray-300"}),t("p",Gt,e(s.$t("Booking.shuttleBusTime")),1),t("p",Mt,e(("formatDate"in s?s.formatDate:n(u))(o.return_shuttle_date)),1),t("p",Rt,e(o.return_shuttle_time),1)])])])):p("",!0),t("div",Wt,[t("div",null,[a[11]||(a[11]=t("span",{class:"font-semibold text-gray-400 text-md"},"NT$ ",-1)),t("span",Jt,e(o.trip_type==="roundTrip"?o.adult_num*300:o.adult_num*150),1)]),t("div",Kt,[t("div",Ot,[r(l,{name:"mdi:account",class:"w-5 h-5 text-gray-400 mr-1"}),t("p",null,e(s.$t("Booking.adultTicket")),1),t("p",Qt,e(o.adult_num),1)]),t("div",Ut,[r(l,{name:"mdi:account-child",class:"w-5 h-5 text-gray-400 mr-1"}),t("p",null,e(s.$t("Booking.childTicket1")),1),t("p",Xt,e(o.child_num),1)])])])])],8,bt))),128))]),t("p",Yt,"—— "+e(s.$t("noMoreData"))+" ——",1)])],64)}}});export{rs as default};

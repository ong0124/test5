import{_ as h}from"./CjPAONV5.js";import w from"./BXKYU0LB.js";import{n as v,p as k,d as D,u as T,r as $,o as B,b as d,c,e as t,f as a,t as o,F as g,g as j,k as u,j as f}from"./DjAi9uwt.js";import{f as _}from"./B1lBDaYp.js";function b(r,p="defaultKey"){const{t:i}=v();return k(()=>{const m=typeof r=="string"?r:r==null?void 0:r.value;return i(m||p)})}const I={class:"py-4 border-b bg-[url('/assets/images/headerTest3.png')] bg-cover bg-center flex items-center"},L={class:"absolute left-1/2 transform -translate-x-1/2 text-xl text-white capitalize"},N={class:"pl-2 pt-4 pb-16"},S={class:"flex justify-between items-center pb-1 mb-1 border-b-2"},A={class:"flex items-center text-gray-700 w-2/3"},V={class:"flex justify-between items-center pt-1"},E={class:"flex-col items-center text-gray-400 w-2/3 text-sm"},F={class:"flex gap-2 mt-2"},R={class:"flex items-center bg-orange-50 rounded-sm px-1 py-1 text-sm"},q={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},z={class:"flex items-center bg-amber-50 rounded-sm px-1 py-1 text-sm"},C={class:"border border-gray-400 rounded-sm bg-white px-4 mx-1 my-auto"},K={class:"flex"},M={class:"w-18"},U={class:"pl-2"},G={class:"flex"},H={class:"w-18"},J={class:"pl-2"},O={class:"flex"},P={key:0,class:"flex items-center justify-between bg-gray-100 p-2 mt-2 rounded-md"},Q={class:"flex items-center flex-grow"},W={class:"text-lwm-400 font-semibold px-2"},X={class:"text-lwm-400"},Y={class:"p-1 rounded-md hover:bg-gray-200 transition flex items-center justify-center"},Z={key:1,class:"flex items-center justify-between bg-gray-100 p-2 mt-2 rounded-md"},tt={class:"flex items-center flex-grow"},et={class:"text-lwm-50 font-semibold px-2"},st={class:"p-1 rounded-md hover:bg-gray-200 transition flex items-center justify-center"},it=D({__name:"refunded",setup(r){const p=T(),i=$([]),m=p.query.LineID;return B(async()=>{try{if(!m)throw new Error("LineID 不存在");const s=await $fetch(`/api/readRefundByLineID/${m}`);i.value=s.data,console.log("退款資料:",i.value)}catch(s){console.error("讀取退款資料失敗:",s)}}),(s,e)=>{const x=h,l=w;return d(),c(g,null,[t("header",I,[t("div",null,[a(x)]),t("h1",L,o(s.$t("bookingStatus.refunded")),1)]),t("div",null,[t("div",N,[(d(!0),c(g,null,j(u(i),(n,y)=>(d(),c("div",{key:y,class:"bg-white p-3 rounded-lg shadow-sm mb-4"},[t("div",S,[t("div",A,[a(l,{name:"tabler:receipt-refund",class:"bg-gray-500 mr-1 w-6 h-6"}),t("p",null,o(("Translate_loc"in s?s.Translate_loc:u(b))(n.departure_loc)),1),a(l,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,o(("Translate_loc"in s?s.Translate_loc:u(b))(n.destination_loc)),1)]),e[0]||(e[0]=t("span",{class:"text-md text-lwm-50"},"退款",-1))]),t("div",V,[t("div",E,[t("div",F,[t("div",R,[a(l,{name:"mdi:account",class:"w-5 h-5 text-orange-500 mr-1"}),t("p",null,o(s.$t("Booking.adultTicket")),1),t("p",q,o(n.adult_num),1)]),t("div",z,[a(l,{name:"mdi:account-child",class:"w-5 h-5 text-amber-500 mr-1"}),t("p",null,o(s.$t("Booking.childTicket1")),1),t("p",C,o(n.child_num),1)])]),t("div",K,[t("p",M,o(s.$t("Booking.arrivalAtAirportTime"))+" : ",1),t("p",U,o(("formatDate"in s?s.formatDate:u(_))(n.arrivalpoint_date))+" "+o(n.arrivalpoint_time),1)]),t("div",G,[t("p",H,o(s.$t("Booking.shuttleBusTime"))+" : ",1),t("p",J,o(("formatDate"in s?s.formatDate:u(_))(n.shuttle_date))+" "+o(n.shuttle_time),1)])]),t("div",O,[e[1]||(e[1]=t("p",null,"退款:",-1)),e[2]||(e[2]=f("  ")),e[3]||(e[3]=t("p",null,"NT$",-1)),t("p",null,o(n.refund_amount!==null?n.refund_amount:"-"),1)])]),n.status==="complete"?(d(),c("div",P,[t("div",Q,[t("p",W,o(s.$t("bookingStatus.refundedtoUser")),1),e[4]||(e[4]=t("p",{class:"text-gray-700 px-2"},"退款金额 : ",-1)),e[5]||(e[5]=f("  ")),e[6]||(e[6]=t("p",{class:"text-lwm-400"},"NT$",-1)),e[7]||(e[7]=f("  ")),t("p",X,o(n.refund_amount),1)]),t("button",Y,[a(l,{name:"mingcute:right-fill",class:"w-5 h-5 text-gray-500"})])])):(d(),c("div",Z,[t("div",tt,[t("p",et,o(s.$t("bookingStatus.refundedApproving")),1),e[8]||(e[8]=t("p",{class:"text-gray-700 px-2"},"在申请过程中，请耐心等待",-1))]),t("button",st,[a(l,{name:"mingcute:right-fill",class:"w-5 h-5 text-gray-500"})])])),e[9]||(e[9]=t("div",{class:"flex justify-end space-x-2 mt-2 text-sm"},[t("button",{class:"px-4 py-1 bg-gray-200 bg-opacity-50 rounded-md text-gray-800"},"联系客服"),t("button",{class:"px-4 py-1 bg-orange-200 bg-opacity-50 rounded-md text-lwm-50"},"查看详情")],-1))]))),128))])])],64)}}});export{it as default};

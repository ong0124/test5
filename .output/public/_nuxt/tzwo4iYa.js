import p from"./GK0XqBoh.js";import{c as v,a as b,l as y}from"./ClpjbW17.js";import{f as g,u as x,p as z,h as _,o as c,c as u,a as m,F as B,r as N,b as $,z as h,t as w,D as C,g as P,i as k,K as L,ao as I,B as T,m as D}from"./DYD3odZJ.js";import"./Bx7J-uke.js";const R={class:"border-t bg-white fixed inset-x-0 bottom-0"},S={class:"flex justify-between py-1"},U=["onClick"],E=g({__name:"BottomNavigator",setup(f){const s=x(),n=z("shuttle"),{t:a}=_(),i=[{name:"shuttle",icon:"material-symbols-directions-car",route:"/"},{name:"reschedule",icon:"jam-write",route:"/reschedulePage/"},{name:"myTrip",icon:"streamline-baggage",route:"/myTrip/"},{name:"profile",icon:"ri:user-5-line",route:"/profile/profile"}],l=async(t,r)=>{n.value=t;let o=await v();if((!o||!o.user_id)&&(alert(a("alertMessage13")),o=await b(),!o)){console.log("登入失敗");return}const e=o.user_id;t==="myTrip"&&(r=`/myTrip/${e}`,console.log(`Line ID: ${e}`)),t==="reschedule"&&(r=`/reschedulePage/${e}`,console.log(`Line ID: ${e}`));const d=s(r);C(d)};return(t,r)=>{const o=p;return c(),u("footer",R,[m("div",S,[(c(),u(B,null,N(i,e=>m("button",{key:e.name,onClick:d=>l(e.name,e.route),class:"flex flex-col items-center mx-auto text-sm transition-transform duration-200 transform hover:scale-110 active:scale-95"},[$(o,{name:e.icon,class:h(["h-5 w-5",n.value===e.name?"bg-gradient-to-t from-orange-300 to-orange-600 ":"text-gray-400"])},null,8,["name","class"]),m("span",{class:h(n.value===e.name?"font-bold bg-gradient-to-b from-orange-300 to-orange-600 text-transparent bg-clip-text":"text-gray-500")},w(t.$t(`footer.${e.name}`)),3)],8,U)),64))])])}}}),F={class:"bg-gray-100"},K=g({__name:"default",setup(f){const s=P(),{locale:n}=_(),a=y(),i=["/test","/Management/"],l=k(()=>{const t=s.path.replace(/^\/(zh-TW|en-US|zh-CN|zh|en)/,"");return!i.includes(t)});return L(()=>{console.log("Current Route Path:",s.path),console.log("Normalized Route Path:",s.path.replace(/^\/(zh-TW|en-US|zh-CN|zh|en)/,"")),console.log("Current Locale:",n.value),console.log("Should Show BottomNavigator:",l.value),console.log("User ID:",a==null?void 0:a.user_id),console.log("User Full_name:",a==null?void 0:a.user_name)}),(t,r)=>{const o=E;return c(),u("div",F,[I(t.$slots,"default"),l.value?(c(),T(o,{key:0})):D("",!0)])}}});export{K as default};
